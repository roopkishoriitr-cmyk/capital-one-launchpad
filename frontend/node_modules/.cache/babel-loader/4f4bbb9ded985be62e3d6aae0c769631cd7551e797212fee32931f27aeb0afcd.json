{"ast":null,"code":"var _jsxFileName = \"/Users/roopkishor.singh/Downloads/capital-one-hackathon/frontend/src/pages/Chat.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Mic, MicOff, Phone, PhoneOff, Video, VideoOff, Settings, User, Bot, Volume2, Camera, MoreVertical, Minimize2, Maximize2 } from 'lucide-react';\nimport { useAuth } from '../hooks/useAuth';\nimport { useChat } from '../contexts/ChatContext';\nimport { toast } from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chat = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const {\n    messages,\n    sendMessage,\n    isConnected\n  } = useChat();\n  const [inputText, setInputText] = useState('');\n  const [selectedLanguage, setSelectedLanguage] = useState('hi');\n  const [isRecording, setIsRecording] = useState(false);\n  const [mediaRecorder, setMediaRecorder] = useState(null);\n  const [audioChunks, setAudioChunks] = useState([]);\n  const [isListening, setIsListening] = useState(false);\n  const [voicePrompt, setVoicePrompt] = useState('माइक पर क्लिक करके बोलें');\n\n  // Video call states\n  const [isVideoOn, setIsVideoOn] = useState(true);\n  const [isAudioOn, setIsAudioOn] = useState(true);\n  const [isMuted, setIsMuted] = useState(false);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [showControls, setShowControls] = useState(true);\n  const [isKrishiMitraSpeaking, setIsKrishiMitraSpeaking] = useState(false);\n  const [currentSpeaker, setCurrentSpeaker] = useState(null);\n  const [realtimeSession, setRealtimeSession] = useState(null);\n  const [isRealtimeActive, setIsRealtimeActive] = useState(false);\n  const messagesEndRef = useRef(null);\n  const videoRef = useRef(null);\n  const krishiMitraVideoRef = useRef(null);\n  const languages = [{\n    code: 'hi',\n    name: 'हिंदी',\n    flag: '🇮🇳'\n  }, {\n    code: 'en',\n    name: 'English',\n    flag: '🇮🇳'\n  }, {\n    code: 'bn',\n    name: 'বাংলা',\n    flag: '🇮🇳'\n  }, {\n    code: 'ta',\n    name: 'தமிழ்',\n    flag: '🇮🇳'\n  }, {\n    code: 'te',\n    name: 'తెలుగు',\n    flag: '🇮🇳'\n  }, {\n    code: 'mr',\n    name: 'मराठी',\n    flag: '🇮🇳'\n  }, {\n    code: 'gu',\n    name: 'ગુજરાતી',\n    flag: '🇮🇳'\n  }, {\n    code: 'pa',\n    name: 'ਪੰਜਾਬੀ',\n    flag: '🇮🇳'\n  }, {\n    code: 'or',\n    name: 'ଓଡ଼ିଆ',\n    flag: '🇮🇳'\n  }, {\n    code: 'ml',\n    name: 'മലയാളം',\n    flag: '🇮🇳'\n  }, {\n    code: 'kn',\n    name: 'ಕನ್ನಡ',\n    flag: '🇮🇳'\n  }];\n  useEffect(() => {\n    // Add welcome message\n    if (messages.length === 0) {\n      addMessage({\n        id: 'welcome',\n        text: `नमस्ते ${(user === null || user === void 0 ? void 0 : user.name) || 'किसान'}! मैं KrishiMitra आपकी कैसे मदद कर सकता हूं? बोलकर अपना सवाल पूछें - फसल, ऋण, मंडी भाव, मौसम या सरकारी योजनाओं के बारे में।`,\n        sender: 'ai',\n        timestamp: new Date(),\n        metadata: {\n          voice_ready: [`नमस्ते ${(user === null || user === void 0 ? void 0 : user.name) || 'किसान'}! मैं KrishiMitra आपकी कैसे मदद कर सकता हूं?`, \"बोलकर अपना सवाल पूछें - फसल, ऋण, मंडी भाव, मौसम या सरकारी योजनाओं के बारे में।\"],\n          intent: 'welcome',\n          suggestions: ['फसल की सलाह लें', 'ऋण की जानकारी लें', 'मंडी भाव जानें', 'मौसम की जानकारी लें']\n        }\n      });\n    }\n  }, [messages.length, user === null || user === void 0 ? void 0 : user.name]);\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const addMessage = message => {\n    // This would be handled by the chat context\n    console.log('Adding message:', message);\n  };\n  const handleSendMessage = async () => {\n    if (!inputText.trim()) return;\n    setCurrentSpeaker('farmer');\n    setIsKrishiMitraSpeaking(false);\n    await sendMessage(inputText, selectedLanguage);\n    setInputText('');\n\n    // Simulate KrishiMitra response\n    setTimeout(() => {\n      setCurrentSpeaker('krishimitra');\n      setIsKrishiMitraSpeaking(true);\n\n      // Stop speaking after 3 seconds\n      setTimeout(() => {\n        setIsKrishiMitraSpeaking(false);\n        setCurrentSpeaker(null);\n      }, 3000);\n    }, 1000);\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const startVoiceRecording = async () => {\n    try {\n      toast.success('🎤 Realtime voice session is active. Just speak naturally!');\n      setIsRecording(true);\n      setCurrentSpeaker('farmer');\n\n      // Auto-stop after 30 seconds\n      setTimeout(() => {\n        if (isRecording) {\n          stopVoiceRecording();\n        }\n      }, 30000);\n    } catch (error) {\n      console.error('Error starting voice recording:', error);\n      toast.error('Voice session error');\n    }\n  };\n  const stopVoiceRecording = () => {\n    setIsRecording(false);\n    setCurrentSpeaker(null);\n    toast.success('✅ Voice session ended');\n  };\n  const processVoiceInput = async audioBlob => {\n    // This function is no longer needed with Realtime API\n    toast.info('🎤 Realtime voice session handles audio automatically');\n  };\n  const handleVoiceToggle = () => {\n    if (isRecording) {\n      stopVoiceRecording();\n    } else {\n      startVoiceRecording();\n    }\n  };\n  const handleQuickAction = async action => {\n    const message = `Tell me about ${action.toLowerCase()}`;\n    setInputText(message);\n    await sendMessage(message, selectedLanguage);\n  };\n  const handleComprehensiveAnalysis = async () => {\n    const message = `Perform comprehensive analysis for my crop, loan, market, and schemes.`;\n    setInputText(message);\n    await sendMessage(message, selectedLanguage);\n  };\n  const toggleVideo = () => {\n    setIsVideoOn(!isVideoOn);\n    toast.success(isVideoOn ? '📹 वीडियो बंद' : '📹 वीडियो चालू');\n  };\n  const toggleAudio = () => {\n    setIsAudioOn(!isAudioOn);\n    setIsMuted(!isMuted);\n    toast.success(isMuted ? '🔊 ऑडियो चालू' : '🔇 ऑडियो बंद');\n  };\n  const toggleFullscreen = () => {\n    setIsFullscreen(!isFullscreen);\n    toast.success(isFullscreen ? '📱 पूर्ण स्क्रीन बंद' : '📱 पूर्ण स्क्रीन चालू');\n  };\n  const startRealtimeSession = async () => {\n    try {\n      toast.success('🔄 KrishiMitra Realtime session शुरू हो रहा है...');\n      const response = await fetch('/api/v1/voice/realtime/session', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          voice: 'alloy',\n          language: selectedLanguage,\n          user_id: user === null || user === void 0 ? void 0 : user.id,\n          farmer_context: {\n            location: 'Punjab, India',\n            crops: ['wheat', 'rice', 'cotton'],\n            experience: '15 years',\n            land_size: '10 acres',\n            current_concerns: ['loan repayment', 'crop selection', 'market prices']\n          }\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to create realtime session');\n      }\n      const sessionData = await response.json();\n      setRealtimeSession(sessionData);\n      setIsRealtimeActive(true);\n      toast.success('✅ KrishiMitra Realtime session सक्रिय है! अब आप बोल सकते हैं।');\n    } catch (error) {\n      console.error('Error starting realtime session:', error);\n      toast.error('❌ Realtime session शुरू करने में समस्या। कृपया फिर से कोशिश करें।');\n    }\n  };\n  const stopRealtimeSession = () => {\n    setRealtimeSession(null);\n    setIsRealtimeActive(false);\n    toast.success('🛑 KrishiMitra Realtime session बंद हो गया है।');\n  };\n  const quickActions = [{\n    icon: /*#__PURE__*/_jsxDEV(User, {\n      className: \"w-5 h-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 13\n    }, this),\n    text: 'फसल सलाह',\n    color: 'bg-green-500 hover:bg-green-600'\n  }, {\n    icon: /*#__PURE__*/_jsxDEV(Bot, {\n      className: \"w-5 h-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }, this),\n    text: 'ऋण जानकारी',\n    color: 'bg-blue-500 hover:bg-blue-600'\n  }, {\n    icon: /*#__PURE__*/_jsxDEV(Volume2, {\n      className: \"w-5 h-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }, this),\n    text: 'मंडी भाव',\n    color: 'bg-yellow-500 hover:bg-yellow-600'\n  }, {\n    icon: /*#__PURE__*/_jsxDEV(Camera, {\n      className: \"w-5 h-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }, this),\n    text: 'मौसम जानकारी',\n    color: 'bg-purple-500 hover:bg-purple-600'\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `min-h-screen bg-gradient-to-br from-green-50 to-blue-50 ${isFullscreen ? 'fixed inset-0 z-50' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-sm border-b\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 py-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 h-10 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Bot, {\n                className: \"w-6 h-6 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-lg font-semibold text-gray-900\",\n                children: \"KrishiMitra Video Call\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: isConnected ? '🟢 Connected' : '🔴 Disconnected'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedLanguage,\n              onChange: e => setSelectedLanguage(e.target.value),\n              className: \"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\",\n              children: languages.map(lang => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: lang.code,\n                children: [lang.flag, \" \", lang.name]\n              }, lang.code, true, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleFullscreen,\n              className: \"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors\",\n              children: isFullscreen ? /*#__PURE__*/_jsxDEV(Minimize2, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 33\n              }, this) : /*#__PURE__*/_jsxDEV(Maximize2, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 69\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 py-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[calc(100vh-200px)]\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative bg-gray-900 rounded-xl overflow-hidden shadow-2xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 bg-gradient-to-br from-green-600/20 to-blue-600/20 z-10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 flex items-center justify-center\",\n            children: isVideoOn ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-32 h-32 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4\",\n                children: /*#__PURE__*/_jsxDEV(User, {\n                  className: \"w-16 h-16 text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-white text-lg font-medium\",\n                children: (user === null || user === void 0 ? void 0 : user.name) || 'किसान'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-300 text-sm\",\n                children: \"\\u0906\\u092A\\u0915\\u093E \\u0935\\u0940\\u0921\\u093F\\u092F\\u094B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-32 h-32 bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4\",\n                children: /*#__PURE__*/_jsxDEV(VideoOff, {\n                  className: \"w-16 h-16 text-gray-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-400 text-lg\",\n                children: \"\\u0935\\u0940\\u0921\\u093F\\u092F\\u094B \\u092C\\u0902\\u0926 \\u0939\\u0948\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), currentSpeaker === 'farmer' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-4 left-4 bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium animate-pulse\",\n            children: \"\\uD83C\\uDFA4 \\u092C\\u094B\\u0932 \\u0930\\u0939\\u0947 \\u0939\\u0948\\u0902\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-4 right-4 flex space-x-2\",\n            children: [!isAudioOn && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-red-500 text-white p-2 rounded-full\",\n              children: /*#__PURE__*/_jsxDEV(MicOff, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this), !isVideoOn && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-red-500 text-white p-2 rounded-full\",\n              children: /*#__PURE__*/_jsxDEV(VideoOff, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute bottom-4 left-4 bg-black/50 text-white px-3 py-1 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium\",\n              children: (user === null || user === void 0 ? void 0 : user.name) || 'किसान'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative bg-gray-900 rounded-xl overflow-hidden shadow-2xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 bg-gradient-to-br from-blue-600/20 to-purple-600/20 z-10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-4 transition-all duration-300 ${isKrishiMitraSpeaking ? 'bg-gradient-to-r from-blue-500 to-purple-500 animate-pulse' : 'bg-gradient-to-r from-blue-600 to-purple-600'}`,\n                children: /*#__PURE__*/_jsxDEV(Bot, {\n                  className: \"w-16 h-16 text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-white text-lg font-medium\",\n                children: \"KrishiMitra AI\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-300 text-sm\",\n                children: \"\\u0906\\u092A\\u0915\\u093E AI \\u0938\\u0939\\u093E\\u092F\\u0915\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this), currentSpeaker === 'krishimitra' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-4 left-4 bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-medium animate-pulse\",\n            children: \"\\uD83E\\uDD16 \\u092C\\u094B\\u0932 \\u0930\\u0939\\u093E \\u0939\\u0948\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-4 right-4 flex space-x-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `px-3 py-1 rounded-full text-sm ${isRealtimeActive ? 'bg-blue-500 text-white animate-pulse' : 'bg-green-500 text-white'}`,\n              children: isRealtimeActive ? '🔄 Realtime' : 'AI सक्रिय'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute bottom-4 left-4 bg-black/50 text-white px-3 py-1 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium\",\n              children: \"KrishiMitra AI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 bg-white rounded-xl shadow-lg p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleAudio,\n              className: `p-4 rounded-full transition-all duration-200 ${isMuted ? 'bg-red-500 text-white hover:bg-red-600' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`,\n              children: isMuted ? /*#__PURE__*/_jsxDEV(MicOff, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 28\n              }, this) : /*#__PURE__*/_jsxDEV(Mic, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 61\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleVideo,\n              className: `p-4 rounded-full transition-all duration-200 ${!isVideoOn ? 'bg-red-500 text-white hover:bg-red-600' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`,\n              children: isVideoOn ? /*#__PURE__*/_jsxDEV(Video, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 30\n              }, this) : /*#__PURE__*/_jsxDEV(VideoOff, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 62\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleVoiceToggle,\n              className: `p-4 rounded-full transition-all duration-200 ${isRecording ? 'bg-red-500 text-white hover:bg-red-600 animate-pulse' : 'bg-green-500 text-white hover:bg-green-600'}`,\n              children: isRecording ? /*#__PURE__*/_jsxDEV(MicOff, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 32\n              }, this) : /*#__PURE__*/_jsxDEV(Mic, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 65\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: stopRealtimeSession,\n              className: \"p-4 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(PhoneOff, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: startRealtimeSession,\n              disabled: isRealtimeActive,\n              className: `p-4 rounded-full transition-colors ${isRealtimeActive ? 'bg-green-600 text-white cursor-not-allowed' : 'bg-green-500 text-white hover:bg-green-600'}`,\n              children: /*#__PURE__*/_jsxDEV(Phone, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"p-4 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(Settings, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"p-4 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(MoreVertical, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 pt-6 border-t border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-medium text-gray-700 mb-3\",\n            children: \"\\u0924\\u094D\\u0935\\u0930\\u093F\\u0924 \\u0915\\u093E\\u0930\\u094D\\u092F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleQuickAction('loan'),\n              className: \"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm\",\n              children: \"\\u090B\\u0923 \\u091C\\u093E\\u0928\\u0915\\u093E\\u0930\\u0940\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleQuickAction('crop'),\n              className: \"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm\",\n              children: \"\\u092B\\u0938\\u0932 \\u0938\\u0932\\u093E\\u0939\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleQuickAction('market'),\n              className: \"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors text-sm\",\n              children: \"\\u092C\\u093E\\u091C\\u093E\\u0930 \\u092D\\u093E\\u0935\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleQuickAction('scheme'),\n              className: \"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors text-sm\",\n              children: \"\\u0938\\u0930\\u0915\\u093E\\u0930\\u0940 \\u092F\\u094B\\u091C\\u0928\\u093E\\u090F\\u0902\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleQuickAction('risk'),\n              className: \"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm\",\n              children: \"\\u091C\\u094B\\u0916\\u093F\\u092E \\u0935\\u093F\\u0936\\u094D\\u0932\\u0947\\u0937\\u0923\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleComprehensiveAnalysis,\n              className: \"px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg hover:from-indigo-600 hover:to-purple-600 transition-colors text-sm font-semibold\",\n              children: \"\\uD83C\\uDFAF \\u0935\\u094D\\u092F\\u093E\\u092A\\u0915 \\u0935\\u093F\\u0936\\u094D\\u0932\\u0947\\u0937\\u0923\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 pt-4 border-t border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: inputText,\n              onChange: e => setInputText(e.target.value),\n              onKeyPress: handleKeyPress,\n              placeholder: \"\\u092C\\u094B\\u0932\\u0915\\u0930 \\u092A\\u0942\\u091B\\u0947\\u0902 \\u092F\\u093E \\u091F\\u093E\\u0907\\u092A \\u0915\\u0930\\u0947\\u0902 - \\u092B\\u0938\\u0932, \\u090B\\u0923, \\u092E\\u0902\\u0921\\u0940 \\u092D\\u093E\\u0935, \\u092F\\u093E \\u0938\\u0930\\u0915\\u093E\\u0930\\u0940 \\u092F\\u094B\\u091C\\u0928\\u093E\\u090F\\u0902...\",\n              className: \"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSendMessage,\n              disabled: !inputText.trim(),\n              className: \"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",\n              children: \"\\u092D\\u0947\\u091C\\u0947\\u0902\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border-t mt-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 py-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between text-sm text-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Powered by KrishiMitra AI\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"OpenAI Voice API \\u2022 Real-time AI Assistant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 535,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 5\n  }, this);\n};\n_s(Chat, \"InKgMzkX623Vz5ZvsiYDpXrvEg8=\", false, function () {\n  return [useAuth, useChat];\n});\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Mic","MicOff","Phone","PhoneOff","Video","VideoOff","Settings","User","Bot","Volume2","Camera","MoreVertical","Minimize2","Maximize2","useAuth","useChat","toast","jsxDEV","_jsxDEV","Chat","_s","user","messages","sendMessage","isConnected","inputText","setInputText","selectedLanguage","setSelectedLanguage","isRecording","setIsRecording","mediaRecorder","setMediaRecorder","audioChunks","setAudioChunks","isListening","setIsListening","voicePrompt","setVoicePrompt","isVideoOn","setIsVideoOn","isAudioOn","setIsAudioOn","isMuted","setIsMuted","isFullscreen","setIsFullscreen","showControls","setShowControls","isKrishiMitraSpeaking","setIsKrishiMitraSpeaking","currentSpeaker","setCurrentSpeaker","realtimeSession","setRealtimeSession","isRealtimeActive","setIsRealtimeActive","messagesEndRef","videoRef","krishiMitraVideoRef","languages","code","name","flag","length","addMessage","id","text","sender","timestamp","Date","metadata","voice_ready","intent","suggestions","_messagesEndRef$curre","current","scrollIntoView","behavior","message","console","log","handleSendMessage","trim","setTimeout","handleKeyPress","e","key","shiftKey","preventDefault","startVoiceRecording","success","stopVoiceRecording","error","processVoiceInput","audioBlob","info","handleVoiceToggle","handleQuickAction","action","toLowerCase","handleComprehensiveAnalysis","toggleVideo","toggleAudio","toggleFullscreen","startRealtimeSession","response","fetch","method","headers","body","JSON","stringify","voice","language","user_id","farmer_context","location","crops","experience","land_size","current_concerns","ok","Error","sessionData","json","stopRealtimeSession","quickActions","icon","className","fileName","_jsxFileName","lineNumber","columnNumber","color","children","value","onChange","target","map","lang","onClick","disabled","type","onKeyPress","placeholder","_c","$RefreshReg$"],"sources":["/Users/roopkishor.singh/Downloads/capital-one-hackathon/frontend/src/pages/Chat.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  Mic, \n  MicOff, \n  Phone, \n  PhoneOff, \n  Video, \n  VideoOff, \n  Settings, \n  MessageSquare,\n  User,\n  Bot,\n  Volume2,\n  VolumeX,\n  Camera,\n  CameraOff,\n  MoreVertical,\n  Minimize2,\n  Maximize2\n} from 'lucide-react';\nimport { useAuth } from '../hooks/useAuth';\nimport { useChat } from '../contexts/ChatContext';\nimport { toast } from 'react-hot-toast';\n\ninterface Message {\n  id: string;\n  text: string;\n  sender: 'user' | 'ai';\n  timestamp: Date;\n  metadata?: {\n    language?: string;\n    confidence?: number;\n    voice_ready?: string[];\n    intent?: string;\n    suggestions?: string[];\n  };\n}\n\nconst Chat: React.FC = () => {\n  const { user } = useAuth();\n  const { messages, sendMessage, isConnected } = useChat();\n  const [inputText, setInputText] = useState('');\n  const [selectedLanguage, setSelectedLanguage] = useState('hi');\n  const [isRecording, setIsRecording] = useState(false);\n  const [mediaRecorder, setMediaRecorder] = useState<MediaRecorder | null>(null);\n  const [audioChunks, setAudioChunks] = useState<Blob[]>([]);\n  const [isListening, setIsListening] = useState(false);\n  const [voicePrompt, setVoicePrompt] = useState('माइक पर क्लिक करके बोलें');\n  \n  // Video call states\n  const [isVideoOn, setIsVideoOn] = useState(true);\n  const [isAudioOn, setIsAudioOn] = useState(true);\n  const [isMuted, setIsMuted] = useState(false);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [showControls, setShowControls] = useState(true);\n  const [isKrishiMitraSpeaking, setIsKrishiMitraSpeaking] = useState(false);\n  const [currentSpeaker, setCurrentSpeaker] = useState<'farmer' | 'krishimitra' | null>(null);\n  const [realtimeSession, setRealtimeSession] = useState<any>(null);\n  const [isRealtimeActive, setIsRealtimeActive] = useState(false);\n  \n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const krishiMitraVideoRef = useRef<HTMLVideoElement>(null);\n\n  const languages = [\n    { code: 'hi', name: 'हिंदी', flag: '🇮🇳' },\n    { code: 'en', name: 'English', flag: '🇮🇳' },\n    { code: 'bn', name: 'বাংলা', flag: '🇮🇳' },\n    { code: 'ta', name: 'தமிழ்', flag: '🇮🇳' },\n    { code: 'te', name: 'తెలుగు', flag: '🇮🇳' },\n    { code: 'mr', name: 'मराठी', flag: '🇮🇳' },\n    { code: 'gu', name: 'ગુજરાતી', flag: '🇮🇳' },\n    { code: 'pa', name: 'ਪੰਜਾਬੀ', flag: '🇮🇳' },\n    { code: 'or', name: 'ଓଡ଼ିଆ', flag: '🇮🇳' },\n    { code: 'ml', name: 'മലയാളം', flag: '🇮🇳' },\n    { code: 'kn', name: 'ಕನ್ನಡ', flag: '🇮🇳' }\n  ];\n\n  useEffect(() => {\n    // Add welcome message\n    if (messages.length === 0) {\n      addMessage({\n        id: 'welcome',\n        text: `नमस्ते ${user?.name || 'किसान'}! मैं KrishiMitra आपकी कैसे मदद कर सकता हूं? बोलकर अपना सवाल पूछें - फसल, ऋण, मंडी भाव, मौसम या सरकारी योजनाओं के बारे में।`,\n        sender: 'ai',\n        timestamp: new Date(),\n        metadata: {\n          voice_ready: [`नमस्ते ${user?.name || 'किसान'}! मैं KrishiMitra आपकी कैसे मदद कर सकता हूं?`, \"बोलकर अपना सवाल पूछें - फसल, ऋण, मंडी भाव, मौसम या सरकारी योजनाओं के बारे में।\"],\n          intent: 'welcome',\n          suggestions: ['फसल की सलाह लें', 'ऋण की जानकारी लें', 'मंडी भाव जानें', 'मौसम की जानकारी लें']\n        }\n      });\n    }\n  }, [messages.length, user?.name]);\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const addMessage = (message: Message) => {\n    // This would be handled by the chat context\n    console.log('Adding message:', message);\n  };\n\n  const handleSendMessage = async () => {\n    if (!inputText.trim()) return;\n    \n    setCurrentSpeaker('farmer');\n    setIsKrishiMitraSpeaking(false);\n    \n    await sendMessage(inputText, selectedLanguage);\n    setInputText('');\n    \n    // Simulate KrishiMitra response\n    setTimeout(() => {\n      setCurrentSpeaker('krishimitra');\n      setIsKrishiMitraSpeaking(true);\n      \n      // Stop speaking after 3 seconds\n      setTimeout(() => {\n        setIsKrishiMitraSpeaking(false);\n        setCurrentSpeaker(null);\n      }, 3000);\n    }, 1000);\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const startVoiceRecording = async () => {\n    try {\n      toast.success('🎤 Realtime voice session is active. Just speak naturally!');\n      setIsRecording(true);\n      setCurrentSpeaker('farmer');\n      \n      // Auto-stop after 30 seconds\n      setTimeout(() => {\n        if (isRecording) {\n          stopVoiceRecording();\n        }\n      }, 30000);\n      \n    } catch (error) {\n      console.error('Error starting voice recording:', error);\n      toast.error('Voice session error');\n    }\n  };\n\n  const stopVoiceRecording = () => {\n    setIsRecording(false);\n    setCurrentSpeaker(null);\n    toast.success('✅ Voice session ended');\n  };\n\n  const processVoiceInput = async (audioBlob: Blob) => {\n    // This function is no longer needed with Realtime API\n    toast.info('🎤 Realtime voice session handles audio automatically');\n  };\n\n  const handleVoiceToggle = () => {\n    if (isRecording) {\n      stopVoiceRecording();\n    } else {\n      startVoiceRecording();\n    }\n  };\n\n  const handleQuickAction = async (action: string) => {\n    const message = `Tell me about ${action.toLowerCase()}`;\n    setInputText(message);\n    await sendMessage(message, selectedLanguage);\n  };\n\n  const handleComprehensiveAnalysis = async () => {\n    const message = `Perform comprehensive analysis for my crop, loan, market, and schemes.`;\n    setInputText(message);\n    await sendMessage(message, selectedLanguage);\n  };\n\n  const toggleVideo = () => {\n    setIsVideoOn(!isVideoOn);\n    toast.success(isVideoOn ? '📹 वीडियो बंद' : '📹 वीडियो चालू');\n  };\n\n  const toggleAudio = () => {\n    setIsAudioOn(!isAudioOn);\n    setIsMuted(!isMuted);\n    toast.success(isMuted ? '🔊 ऑडियो चालू' : '🔇 ऑडियो बंद');\n  };\n\n  const toggleFullscreen = () => {\n    setIsFullscreen(!isFullscreen);\n    toast.success(isFullscreen ? '📱 पूर्ण स्क्रीन बंद' : '📱 पूर्ण स्क्रीन चालू');\n  };\n\n  const startRealtimeSession = async () => {\n    try {\n      toast.success('🔄 KrishiMitra Realtime session शुरू हो रहा है...');\n      \n      const response = await fetch('/api/v1/voice/realtime/session', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          voice: 'alloy',\n          language: selectedLanguage,\n          user_id: user?.id,\n          farmer_context: {\n            location: 'Punjab, India',\n            crops: ['wheat', 'rice', 'cotton'],\n            experience: '15 years',\n            land_size: '10 acres',\n            current_concerns: ['loan repayment', 'crop selection', 'market prices']\n          }\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to create realtime session');\n      }\n\n      const sessionData = await response.json();\n      setRealtimeSession(sessionData);\n      setIsRealtimeActive(true);\n      \n      toast.success('✅ KrishiMitra Realtime session सक्रिय है! अब आप बोल सकते हैं।');\n      \n    } catch (error) {\n      console.error('Error starting realtime session:', error);\n      toast.error('❌ Realtime session शुरू करने में समस्या। कृपया फिर से कोशिश करें।');\n    }\n  };\n\n  const stopRealtimeSession = () => {\n    setRealtimeSession(null);\n    setIsRealtimeActive(false);\n    toast.success('🛑 KrishiMitra Realtime session बंद हो गया है।');\n  };\n\n  const quickActions = [\n    { icon: <User className=\"w-5 h-5\" />, text: 'फसल सलाह', color: 'bg-green-500 hover:bg-green-600' },\n    { icon: <Bot className=\"w-5 h-5\" />, text: 'ऋण जानकारी', color: 'bg-blue-500 hover:bg-blue-600' },\n    { icon: <Volume2 className=\"w-5 h-5\" />, text: 'मंडी भाव', color: 'bg-yellow-500 hover:bg-yellow-600' },\n    { icon: <Camera className=\"w-5 h-5\" />, text: 'मौसम जानकारी', color: 'bg-purple-500 hover:bg-purple-600' }\n  ];\n\n  return (\n    <div className={`min-h-screen bg-gradient-to-br from-green-50 to-blue-50 ${isFullscreen ? 'fixed inset-0 z-50' : ''}`}>\n      {/* Header */}\n      <div className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 py-3\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-10 h-10 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center\">\n                <Bot className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h1 className=\"text-lg font-semibold text-gray-900\">KrishiMitra Video Call</h1>\n                <p className=\"text-sm text-gray-500\">\n                  {isConnected ? '🟢 Connected' : '🔴 Disconnected'}\n                </p>\n              </div>\n            </div>\n            \n            <div className=\"flex items-center space-x-2\">\n              <select\n                value={selectedLanguage}\n                onChange={(e) => setSelectedLanguage(e.target.value)}\n                className=\"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n              >\n                {languages.map((lang) => (\n                  <option key={lang.code} value={lang.code}>\n                    {lang.flag} {lang.name}\n                  </option>\n                ))}\n              </select>\n              \n              <button\n                onClick={toggleFullscreen}\n                className=\"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors\"\n              >\n                {isFullscreen ? <Minimize2 className=\"w-5 h-5\" /> : <Maximize2 className=\"w-5 h-5\" />}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Video Call Interface */}\n      <div className=\"max-w-7xl mx-auto px-4 py-6\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[calc(100vh-200px)]\">\n          \n          {/* Farmer's Video Panel */}\n          <div className=\"relative bg-gray-900 rounded-xl overflow-hidden shadow-2xl\">\n            <div className=\"absolute inset-0 bg-gradient-to-br from-green-600/20 to-blue-600/20 z-10\" />\n            \n            {/* Video Placeholder */}\n            <div className=\"absolute inset-0 flex items-center justify-center\">\n              {isVideoOn ? (\n                <div className=\"text-center\">\n                  <div className=\"w-32 h-32 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4\">\n                    <User className=\"w-16 h-16 text-white\" />\n                  </div>\n                  <p className=\"text-white text-lg font-medium\">{user?.name || 'किसान'}</p>\n                  <p className=\"text-gray-300 text-sm\">आपका वीडियो</p>\n                </div>\n              ) : (\n                <div className=\"text-center\">\n                  <div className=\"w-32 h-32 bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4\">\n                    <VideoOff className=\"w-16 h-16 text-gray-400\" />\n                  </div>\n                  <p className=\"text-gray-400 text-lg\">वीडियो बंद है</p>\n                </div>\n              )}\n            </div>\n            \n            {/* Speaking Indicator */}\n            {currentSpeaker === 'farmer' && (\n              <div className=\"absolute top-4 left-4 bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium animate-pulse\">\n                🎤 बोल रहे हैं\n              </div>\n            )}\n            \n            {/* Status Indicators */}\n            <div className=\"absolute top-4 right-4 flex space-x-2\">\n              {!isAudioOn && (\n                <div className=\"bg-red-500 text-white p-2 rounded-full\">\n                  <MicOff className=\"w-4 h-4\" />\n                </div>\n              )}\n              {!isVideoOn && (\n                <div className=\"bg-red-500 text-white p-2 rounded-full\">\n                  <VideoOff className=\"w-4 h-4\" />\n                </div>\n              )}\n            </div>\n            \n            {/* Name Tag */}\n            <div className=\"absolute bottom-4 left-4 bg-black/50 text-white px-3 py-1 rounded-lg\">\n              <span className=\"text-sm font-medium\">{user?.name || 'किसान'}</span>\n            </div>\n          </div>\n\n          {/* KrishiMitra's Video Panel */}\n          <div className=\"relative bg-gray-900 rounded-xl overflow-hidden shadow-2xl\">\n            <div className=\"absolute inset-0 bg-gradient-to-br from-blue-600/20 to-purple-600/20 z-10\" />\n            \n            {/* Video Placeholder */}\n            <div className=\"absolute inset-0 flex items-center justify-center\">\n              <div className=\"text-center\">\n                <div className={`w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-4 transition-all duration-300 ${\n                  isKrishiMitraSpeaking \n                    ? 'bg-gradient-to-r from-blue-500 to-purple-500 animate-pulse' \n                    : 'bg-gradient-to-r from-blue-600 to-purple-600'\n                }`}>\n                  <Bot className=\"w-16 h-16 text-white\" />\n                </div>\n                <p className=\"text-white text-lg font-medium\">KrishiMitra AI</p>\n                <p className=\"text-gray-300 text-sm\">आपका AI सहायक</p>\n              </div>\n            </div>\n            \n            {/* Speaking Indicator */}\n            {currentSpeaker === 'krishimitra' && (\n              <div className=\"absolute top-4 left-4 bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-medium animate-pulse\">\n                🤖 बोल रहा है\n              </div>\n            )}\n            \n            {/* AI Status */}\n            <div className=\"absolute top-4 right-4 flex space-x-2\">\n              <div className={`px-3 py-1 rounded-full text-sm ${\n                isRealtimeActive \n                  ? 'bg-blue-500 text-white animate-pulse' \n                  : 'bg-green-500 text-white'\n              }`}>\n                {isRealtimeActive ? '🔄 Realtime' : 'AI सक्रिय'}\n              </div>\n            </div>\n            \n            {/* Name Tag */}\n            <div className=\"absolute bottom-4 left-4 bg-black/50 text-white px-3 py-1 rounded-lg\">\n              <span className=\"text-sm font-medium\">KrishiMitra AI</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Control Panel */}\n        <div className=\"mt-6 bg-white rounded-xl shadow-lg p-6\">\n          <div className=\"flex items-center justify-between\">\n            \n            {/* Left Controls */}\n            <div className=\"flex items-center space-x-4\">\n              <button\n                onClick={toggleAudio}\n                className={`p-4 rounded-full transition-all duration-200 ${\n                  isMuted \n                    ? 'bg-red-500 text-white hover:bg-red-600' \n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }`}\n              >\n                {isMuted ? <MicOff className=\"w-6 h-6\" /> : <Mic className=\"w-6 h-6\" />}\n              </button>\n              \n              <button\n                onClick={toggleVideo}\n                className={`p-4 rounded-full transition-all duration-200 ${\n                  !isVideoOn \n                    ? 'bg-red-500 text-white hover:bg-red-600' \n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }`}\n              >\n                {isVideoOn ? <Video className=\"w-6 h-6\" /> : <VideoOff className=\"w-6 h-6\" />}\n              </button>\n              \n              <button\n                onClick={handleVoiceToggle}\n                className={`p-4 rounded-full transition-all duration-200 ${\n                  isRecording \n                    ? 'bg-red-500 text-white hover:bg-red-600 animate-pulse' \n                    : 'bg-green-500 text-white hover:bg-green-600'\n                }`}\n              >\n                {isRecording ? <MicOff className=\"w-6 h-6\" /> : <Mic className=\"w-6 h-6\" />}\n              </button>\n            </div>\n\n            {/* Center - Call Controls */}\n            <div className=\"flex items-center space-x-4\">\n              <button \n                onClick={stopRealtimeSession}\n                className=\"p-4 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors\"\n              >\n                <PhoneOff className=\"w-6 h-6\" />\n              </button>\n              \n              <button \n                onClick={startRealtimeSession}\n                disabled={isRealtimeActive}\n                className={`p-4 rounded-full transition-colors ${\n                  isRealtimeActive \n                    ? 'bg-green-600 text-white cursor-not-allowed' \n                    : 'bg-green-500 text-white hover:bg-green-600'\n                }`}\n              >\n                <Phone className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            {/* Right Controls */}\n            <div className=\"flex items-center space-x-4\">\n              <button className=\"p-4 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors\">\n                <Settings className=\"w-6 h-6\" />\n              </button>\n              \n              <button className=\"p-4 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors\">\n                <MoreVertical className=\"w-6 h-6\" />\n              </button>\n            </div>\n          </div>\n\n          {/* Quick Actions */}\n          <div className=\"mt-6 pt-6 border-t border-gray-200\">\n            <h3 className=\"text-sm font-medium text-gray-700 mb-3\">त्वरित कार्य</h3>\n            <div className=\"flex flex-wrap gap-3\">\n              <button\n                onClick={() => handleQuickAction('loan')}\n                className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm\"\n              >\n                ऋण जानकारी\n              </button>\n              <button\n                onClick={() => handleQuickAction('crop')}\n                className=\"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm\"\n              >\n                फसल सलाह\n              </button>\n              <button\n                onClick={() => handleQuickAction('market')}\n                className=\"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors text-sm\"\n              >\n                बाजार भाव\n              </button>\n              <button\n                onClick={() => handleQuickAction('scheme')}\n                className=\"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors text-sm\"\n              >\n                सरकारी योजनाएं\n              </button>\n              <button\n                onClick={() => handleQuickAction('risk')}\n                className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm\"\n              >\n                जोखिम विश्लेषण\n              </button>\n              <button\n                onClick={handleComprehensiveAnalysis}\n                className=\"px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg hover:from-indigo-600 hover:to-purple-600 transition-colors text-sm font-semibold\"\n              >\n                🎯 व्यापक विश्लेषण\n              </button>\n            </div>\n          </div>\n\n          {/* Text Input (Hidden by default, can be toggled) */}\n          <div className=\"mt-4 pt-4 border-t border-gray-200\">\n            <div className=\"flex space-x-3\">\n              <input\n                type=\"text\"\n                value={inputText}\n                onChange={(e) => setInputText(e.target.value)}\n                onKeyPress={handleKeyPress}\n                placeholder=\"बोलकर पूछें या टाइप करें - फसल, ऋण, मंडी भाव, या सरकारी योजनाएं...\"\n                className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              />\n              <button\n                onClick={handleSendMessage}\n                disabled={!inputText.trim()}\n                className=\"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                भेजें\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Footer */}\n      <div className=\"bg-white border-t mt-6\">\n        <div className=\"max-w-7xl mx-auto px-4 py-3\">\n          <div className=\"flex items-center justify-between text-sm text-gray-500\">\n            <span>Powered by KrishiMitra AI</span>\n            <span>OpenAI Voice API • Real-time AI Assistant</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}