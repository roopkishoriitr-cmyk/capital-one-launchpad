{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{motion,AnimatePresence}from'framer-motion';import{Send,Mic,MicOff,Volume2,Settings,User,Bot,Loader2,Calendar,MapPin,TrendingUp,Sparkles,Brain,Leaf,DollarSign,Shield}from'lucide-react';import{useChat}from'../contexts/ChatContext';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Chat=()=>{var _languages$find,_languages$find2,_languages$find3;const[inputText,setInputText]=useState('');const[isRecording,setIsRecording]=useState(false);const[selectedLanguage,setSelectedLanguage]=useState('hi');const[showVoiceSettings,setShowVoiceSettings]=useState(false);const[isTyping,setIsTyping]=useState(false);const[mediaRecorder,setMediaRecorder]=useState(null);const[audioChunks,setAudioChunks]=useState([]);const[isListening,setIsListening]=useState(false);const[voicePrompt,setVoicePrompt]=useState('‡§Æ‡§æ‡§á‡§ï ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§ï‡•á ‡§¨‡•ã‡§≤‡•á‡§Ç');const{messages,sendMessage,isLoading}=useChat();const messagesEndRef=useRef(null);const inputRef=useRef(null);const languages=[{code:'hi',name:'‡§π‡§ø‡§Ç‡§¶‡•Ä',flag:'üáÆüá≥'},{code:'bn',name:'‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ',flag:'üáÆüá≥'},{code:'ta',name:'‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç',flag:'üáÆüá≥'},{code:'te',name:'‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å',flag:'üáÆüá≥'},{code:'mr',name:'‡§Æ‡§∞‡§æ‡§†‡•Ä',flag:'üáÆüá≥'},{code:'gu',name:'‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä',flag:'üáÆüá≥'},{code:'pa',name:'‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä',flag:'üáÆüá≥'},{code:'or',name:'‡¨ì‡¨°‡¨º‡¨ø‡¨Ü',flag:'üáÆüá≥'},{code:'ml',name:'‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç',flag:'üáÆüá≥'},{code:'kn',name:'‡≤ï‡≤®‡≥ç‡≤®‡≤°',flag:'üáÆüá≥'}];const quickActions=[{icon:/*#__PURE__*/_jsx(Leaf,{className:\"w-5 h-5\"}),text:'‡§´‡§∏‡§≤ ‡§∏‡§≤‡§æ‡§π',color:'from-green-500 to-emerald-600'},{icon:/*#__PURE__*/_jsx(DollarSign,{className:\"w-5 h-5\"}),text:'‡§ã‡§£ ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ',color:'from-blue-500 to-indigo-600'},{icon:/*#__PURE__*/_jsx(TrendingUp,{className:\"w-5 h-5\"}),text:'‡§Æ‡§Ç‡§°‡•Ä ‡§≠‡§æ‡§µ',color:'from-orange-500 to-red-600'},{icon:/*#__PURE__*/_jsx(Shield,{className:\"w-5 h-5\"}),text:'‡§ú‡•ã‡§ñ‡§ø‡§Æ ‡§ö‡•á‡§§‡§æ‡§µ‡§®‡•Ä',color:'from-purple-500 to-pink-600'},{icon:/*#__PURE__*/_jsx(Calendar,{className:\"w-5 h-5\"}),text:'‡§ñ‡•á‡§§‡•Ä ‡§ï‡•à‡§≤‡•á‡§Ç‡§°‡§∞',color:'from-teal-500 to-cyan-600'},{icon:/*#__PURE__*/_jsx(MapPin,{className:\"w-5 h-5\"}),text:'‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç',color:'from-yellow-500 to-orange-600'}];useEffect(()=>{scrollToBottom();},[messages]);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};const handleSendMessage=async()=>{if(inputText.trim()){await sendMessage(inputText,selectedLanguage);setInputText('');setIsTyping(true);// Simulate AI typing\nsetTimeout(()=>{setIsTyping(false);},2000);}};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSendMessage();}};const startVoiceRecording=async()=>{try{const stream=await navigator.mediaDevices.getUserMedia({audio:true});const recorder=new MediaRecorder(stream);const chunks=[];recorder.ondataavailable=event=>{if(event.data.size>0){chunks.push(event.data);}};recorder.onstop=async()=>{const audioBlob=new Blob(chunks,{type:'audio/wav'});await processVoiceInput(audioBlob);stream.getTracks().forEach(track=>track.stop());};setMediaRecorder(recorder);setAudioChunks(chunks);recorder.start();setIsRecording(true);setIsListening(true);setVoicePrompt('‡§¨‡•ã‡§≤ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...');toast.success('üé§ KrishiMitra ‡§∏‡•Å‡§® ‡§∞‡§π‡§æ ‡§π‡•à‡•§ ‡§¨‡•ã‡§≤‡•á‡§Ç...');// Auto-stop after 15 seconds\nsetTimeout(()=>{if(recorder.state==='recording'){stopVoiceRecording();}},15000);}catch(error){console.error('Error starting voice recording:',error);toast.error('‡§Æ‡§æ‡§á‡§ï‡•ç‡§∞‡•ã‡§´‡•ã‡§® ‡§ï‡•Ä ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§¶‡•á‡§Ç');}};const stopVoiceRecording=()=>{if(mediaRecorder&&mediaRecorder.state==='recording'){mediaRecorder.stop();setIsRecording(false);setIsListening(false);setVoicePrompt('‡§Æ‡§æ‡§á‡§ï ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§ï‡•á ‡§¨‡•ã‡§≤‡•á‡§Ç');toast.success('‚úÖ ‡§Ü‡§µ‡§æ‡§ú ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§°‡§ø‡§Ç‡§ó ‡§¨‡§Ç‡§¶');}};const processVoiceInput=async audioBlob=>{try{toast.success('üéµ OpenAI Voice API ‡§∏‡•á ‡§Ü‡§µ‡§æ‡§ú ‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏ ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à...');// Create FormData for file upload\nconst formData=new FormData();formData.append('audio_file',audioBlob,'voice_input.wav');formData.append('language',selectedLanguage);// Send to OpenAI Voice API endpoint\nconst response=await fetch('/api/v1/voice/speech-to-text',{method:'POST',body:formData});if(!response.ok){throw new Error('Voice processing failed');}const result=await response.json();if(result.text){// Set the transcribed text and send the message\nsetInputText(result.text);await sendMessage(result.text,result.language||selectedLanguage);toast.success('üéØ OpenAI Whisper ‡§∏‡•á ‡§Ü‡§µ‡§æ‡§ú ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏ ‡§π‡•Å‡§à!');}else{throw new Error('No text detected');}}catch(error){console.error('Error processing voice input:',error);// Fallback to mock processing for demo\ntoast.success('üîÑ OpenAI API ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ, ‡§°‡•á‡§Æ‡•ã ‡§Æ‡•ã‡§° ‡§Æ‡•á‡§Ç ‡§ú‡§æ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...');const mockVoiceTexts={'hi':'‡§Æ‡•á‡§∞‡•Ä ‡§´‡§∏‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•å‡§® ‡§∏‡•Ä ‡§´‡§∏‡§≤ ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§π‡•ã‡§ó‡•Ä?','bn':'‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶´‡¶∏‡¶≤‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶® ‡¶´‡¶∏‡¶≤ ‡¶∏‡¶¨‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶≠‡¶æ‡¶≤‡ßã ‡¶π‡¶¨‡ßá?','ta':'‡Æé‡Æ©‡Øç ‡Æ™‡ÆØ‡Æø‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æé‡Æ®‡Øç‡Æ§ ‡Æ™‡ÆØ‡Æø‡Æ∞‡Øç ‡Æö‡Æø‡Æ±‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ?','te':'‡∞®‡∞æ ‡∞™‡∞Ç‡∞ü‡∞ï‡±Å ‡∞è ‡∞™‡∞Ç‡∞ü ‡∞â‡∞§‡±ç‡∞§‡∞Æ‡∞Ç?','mr':'‡∞Æ‡∞æ‡∞ú‡±Ä ‡∞™‡∞ø‡∞ï‡∞æ‡∞∏‡∞æ‡∞ü‡∞ø ‡∞ï‡±ã‡∞®‡∞§‡±á ‡∞™‡±Ä‡∞ï‡±ç ‡∞∏‡∞∞‡±ç‡∞µ‡±ã‡∞§‡±ç‡∞§‡∞Æ‡±ç ‡∞Ö‡∞π‡±á?','gu':'‡™Æ‡™æ‡™∞‡™æ ‡™™‡™æ‡™ï ‡™Æ‡™æ‡™ü‡´á ‡™ï‡™Ø‡´Å‡™Ç ‡™™‡™æ‡™ï ‡™∂‡´ç‡™∞‡´á‡™∑‡´ç‡™† ‡™õ‡´á?','pa':'‡®Æ‡©á‡®∞‡©Ä ‡®´‡®∏‡®≤ ‡®≤‡®à ‡®ï‡®ø‡®π‡©ú‡©Ä ‡®´‡®∏‡®≤ ‡®∏‡®≠ ‡®§‡©ã‡®Ç ‡®µ‡®ß‡©Ä‡®Ü ‡®π‡©à?','or':'‡¨Æ‡≠ã ‡¨´‡¨∏‡¨≤ ‡¨™‡¨æ‡¨á‡¨Å ‡¨ï‡≠á‡¨â‡¨Å ‡¨´‡¨∏‡¨≤ ‡¨∏‡¨∞‡≠ç‡¨¨‡≠ã‡¨§‡≠ç‡¨§‡¨Æ?','ml':'‡¥é‡¥®‡µç‡¥±‡µÜ ‡¥µ‡¥ø‡¥≥‡¥Ø‡µç‡¥ï‡µç‡¥ï‡µç ‡¥è‡¥§‡µç ‡¥µ‡¥ø‡¥≥ ‡¥Æ‡¥ø‡¥ï‡¥ö‡µç‡¥ö‡¥§‡¥æ‡¥£‡µç?','kn':'‡≤®‡≤®‡≥ç‡≤® ‡≤¨‡≥Ü‡≤≥‡≥Ü‡≤ó‡≤æ‡≤ó‡≤ø ‡≤Ø‡≤æ‡≤µ ‡≤¨‡≥Ü‡≤≥‡≥Ü ‡≤â‡≤§‡≥ç‡≤§‡≤Æ?'};const mockText=mockVoiceTexts[selectedLanguage]||mockVoiceTexts['hi'];setInputText(mockText);await sendMessage(mockText,selectedLanguage);toast.success('üéØ ‡§°‡•á‡§Æ‡•ã ‡§Æ‡•ã‡§° ‡§Æ‡•á‡§Ç ‡§Ü‡§µ‡§æ‡§ú ‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏ ‡§π‡•Å‡§à!');}};const handleVoiceToggle=()=>{if(isRecording){stopVoiceRecording();}else{startVoiceRecording();}};const handleQuickAction=async action=>{const message=\"Tell me about \".concat(action.toLowerCase());await sendMessage(message,selectedLanguage);toast.success(\"Selected: \".concat(action));};const formatTime=date=>{return date.toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',hour12:true});};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-white/80 backdrop-blur-md border-b border-green-100 px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center\",children:/*#__PURE__*/_jsx(Brain,{className:\"w-6 h-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-gray-900\",children:\"KrishiSampann AI\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Your farming companion\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowVoiceSettings(!showVoiceSettings),className:\"p-2 text-gray-600 hover:text-green-600 transition-colors\",children:/*#__PURE__*/_jsx(Settings,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 rounded-full animate-pulse \".concat(isRecording?'bg-red-500':'bg-green-500')}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium \".concat(isRecording?'text-red-600':'text-green-600'),children:isRecording?'Recording...':'AI Online'})]})]})]})}),/*#__PURE__*/_jsx(AnimatePresence,{children:showVoiceSettings&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:'auto'},exit:{opacity:0,height:0},className:\"bg-white border-b border-green-100 px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Language:\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedLanguage,onChange:e=>setSelectedLanguage(e.target.value),className:\"border border-green-200 rounded-lg px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-green-500\",children:languages.map(lang=>/*#__PURE__*/_jsxs(\"option\",{value:lang.code,children:[lang.flag,\" \",lang.name]},lang.code))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Voice:\"}),/*#__PURE__*/_jsx(\"button\",{className:\"p-2 text-gray-600 hover:text-green-600 transition-colors\",children:/*#__PURE__*/_jsx(Volume2,{className:\"w-4 h-4\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"Current: \",(_languages$find=languages.find(l=>l.code===selectedLanguage))===null||_languages$find===void 0?void 0:_languages$find.flag,\" \",(_languages$find2=languages.find(l=>l.code===selectedLanguage))===null||_languages$find2===void 0?void 0:_languages$find2.name]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 bg-white/60 border-b border-green-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-3 overflow-x-auto pb-2\",children:quickActions.map((action,index)=>/*#__PURE__*/_jsxs(motion.button,{initial:{opacity:0,scale:0.8},animate:{opacity:1,scale:1},transition:{delay:index*0.1},onClick:()=>handleQuickAction(action.text),className:\"flex items-center space-x-2 px-4 py-2 rounded-full text-white font-medium text-sm whitespace-nowrap bg-gradient-to-r \".concat(action.color,\" hover:shadow-lg transition-all duration-300 transform hover:-translate-y-0.5\"),children:[action.icon,/*#__PURE__*/_jsx(\"span\",{children:action.text})]},index))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto px-6 py-4 space-y-4\",children:[messages.length===0?/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 bg-gradient-to-br from-green-100 to-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(Sparkles,{className:\"w-10 h-10 text-green-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"Welcome to KrishiSampann AI!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Ask me anything about farming, loans, market prices, or government schemes. I'm here to help you make better decisions.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2 text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(Mic,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Try voice input or type your question below\"})]})]}):messages.map((message,index)=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:index*0.1},className:\"flex \".concat(message.sender==='user'?'justify-end':'justify-start'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3 max-w-xs lg:max-w-md \".concat(message.sender==='user'?'flex-row-reverse space-x-reverse':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 \".concat(message.sender==='user'?'bg-gradient-to-br from-blue-500 to-indigo-600':'bg-gradient-to-br from-green-500 to-emerald-600'),children:message.sender==='user'?/*#__PURE__*/_jsx(User,{className:\"w-4 h-4 text-white\"}):/*#__PURE__*/_jsx(Bot,{className:\"w-4 h-4 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-2xl px-4 py-3 \".concat(message.sender==='user'?'bg-gradient-to-r from-blue-500 to-indigo-600 text-white':'bg-white text-gray-800 border border-green-100 shadow-sm'),children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm leading-relaxed\",children:message.text}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs mt-2 \".concat(message.sender==='user'?'text-blue-100':'text-gray-500'),children:formatTime(message.timestamp)})]})]})},message.id)),isTyping&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"flex justify-start\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Bot,{className:\"w-4 h-4 text-white\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl px-4 py-3 border border-green-100 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"w-4 h-4 text-green-600 animate-spin\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"AI is thinking...\"})]})})]})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border-t border-green-100 px-6 py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsx(\"input\",{ref:inputRef,type:\"text\",value:inputText,onChange:e=>setInputText(e.target.value),onKeyPress:handleKeyPress,placeholder:\"\\u092C\\u094B\\u0932\\u0915\\u0930 \\u092A\\u0942\\u091B\\u0947\\u0902 \\u092F\\u093E \\u091F\\u093E\\u0907\\u092A \\u0915\\u0930\\u0947\\u0902 - \\u092B\\u0938\\u0932, \\u090B\\u0923, \\u092E\\u0902\\u0921\\u0940 \\u092D\\u093E\\u0935, \\u092F\\u093E \\u0938\\u0930\\u0915\\u093E\\u0930\\u0940 \\u092F\\u094B\\u091C\\u0928\\u093E\\u090F\\u0902...\",className:\"w-full px-4 py-3 border border-green-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-gray-700 placeholder-gray-400\",disabled:isLoading}),selectedLanguage!=='en'&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-3 top-1/2 transform -translate-y-1/2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full\",children:(_languages$find3=languages.find(l=>l.code===selectedLanguage))===null||_languages$find3===void 0?void 0:_languages$find3.flag})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleVoiceToggle,className:\"p-3 rounded-full transition-all duration-300 \".concat(isRecording?'bg-red-500 text-white shadow-lg animate-pulse':'bg-green-500 text-white hover:bg-green-600 hover:shadow-lg'),disabled:isLoading,children:isRecording?/*#__PURE__*/_jsx(MicOff,{className:\"w-5 h-5\"}):/*#__PURE__*/_jsx(Mic,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessage,disabled:!inputText.trim()||isLoading,className:\"p-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-full hover:from-green-600 hover:to-emerald-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\",children:/*#__PURE__*/_jsx(Send,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 flex items-center justify-between text-xs text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Press Enter to send, Shift+Enter for new line\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Powered by KrishiMitra AI\"})]})]}),/*#__PURE__*/_jsx(\"audio\",{id:\"audio-player\",style:{display:'none'}})]});};export default Chat;","map":{"version":3,"names":["React","useState","useEffect","useRef","motion","AnimatePresence","Send","Mic","MicOff","Volume2","Settings","User","Bot","Loader2","Calendar","MapPin","TrendingUp","Sparkles","Brain","Leaf","DollarSign","Shield","useChat","toast","jsx","_jsx","jsxs","_jsxs","Chat","_languages$find","_languages$find2","_languages$find3","inputText","setInputText","isRecording","setIsRecording","selectedLanguage","setSelectedLanguage","showVoiceSettings","setShowVoiceSettings","isTyping","setIsTyping","mediaRecorder","setMediaRecorder","audioChunks","setAudioChunks","isListening","setIsListening","voicePrompt","setVoicePrompt","messages","sendMessage","isLoading","messagesEndRef","inputRef","languages","code","name","flag","quickActions","icon","className","text","color","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","setTimeout","handleKeyPress","e","key","shiftKey","preventDefault","startVoiceRecording","stream","navigator","mediaDevices","getUserMedia","audio","recorder","MediaRecorder","chunks","ondataavailable","event","data","size","push","onstop","audioBlob","Blob","type","processVoiceInput","getTracks","forEach","track","stop","start","success","state","stopVoiceRecording","error","console","formData","FormData","append","response","fetch","method","body","ok","Error","result","json","language","mockVoiceTexts","mockText","handleVoiceToggle","handleQuickAction","action","message","concat","toLowerCase","formatTime","date","toLocaleTimeString","hour","minute","hour12","children","onClick","div","initial","opacity","height","animate","exit","value","onChange","target","map","lang","find","l","index","button","scale","transition","delay","length","y","sender","timestamp","id","ref","onKeyPress","placeholder","disabled","style","display"],"sources":["/Users/roopkishor.singh/Downloads/capital-one-hackathon/frontend/src/pages/Chat.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, FC } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  Send, \n  Mic, \n  MicOff, \n  Volume2, \n  Settings, \n  User, \n  Bot, \n  Loader2, \n  Calendar, \n  MapPin, \n  TrendingUp,\n  Sparkles,\n  Brain,\n  Leaf,\n  DollarSign,\n  Shield\n} from 'lucide-react';\nimport { useChat } from '../contexts/ChatContext';\nimport toast from 'react-hot-toast';\n\nconst Chat: React.FC = () => {\n  const [inputText, setInputText] = useState('');\n  const [isRecording, setIsRecording] = useState(false);\n  const [selectedLanguage, setSelectedLanguage] = useState('hi');\n  const [showVoiceSettings, setShowVoiceSettings] = useState(false);\n  const [isTyping, setIsTyping] = useState(false);\n  const [mediaRecorder, setMediaRecorder] = useState<MediaRecorder | null>(null);\n  const [audioChunks, setAudioChunks] = useState<Blob[]>([]);\n  const [isListening, setIsListening] = useState(false);\n  const [voicePrompt, setVoicePrompt] = useState('‡§Æ‡§æ‡§á‡§ï ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§ï‡•á ‡§¨‡•ã‡§≤‡•á‡§Ç');\n  \n  const { messages, sendMessage, isLoading } = useChat();\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const languages = [\n    { code: 'hi', name: '‡§π‡§ø‡§Ç‡§¶‡•Ä', flag: 'üáÆüá≥' },\n    { code: 'bn', name: '‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ', flag: 'üáÆüá≥' },\n    { code: 'ta', name: '‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç', flag: 'üáÆüá≥' },\n    { code: 'te', name: '‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å', flag: 'üáÆüá≥' },\n    { code: 'mr', name: '‡§Æ‡§∞‡§æ‡§†‡•Ä', flag: 'üáÆüá≥' },\n    { code: 'gu', name: '‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä', flag: 'üáÆüá≥' },\n    { code: 'pa', name: '‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä', flag: 'üáÆüá≥' },\n    { code: 'or', name: '‡¨ì‡¨°‡¨º‡¨ø‡¨Ü', flag: 'üáÆüá≥' },\n    { code: 'ml', name: '‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç', flag: 'üáÆüá≥' },\n    { code: 'kn', name: '‡≤ï‡≤®‡≥ç‡≤®‡≤°', flag: 'üáÆüá≥' }\n  ];\n\n  const quickActions = [\n    { icon: <Leaf className=\"w-5 h-5\" />, text: '‡§´‡§∏‡§≤ ‡§∏‡§≤‡§æ‡§π', color: 'from-green-500 to-emerald-600' },\n    { icon: <DollarSign className=\"w-5 h-5\" />, text: '‡§ã‡§£ ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ', color: 'from-blue-500 to-indigo-600' },\n    { icon: <TrendingUp className=\"w-5 h-5\" />, text: '‡§Æ‡§Ç‡§°‡•Ä ‡§≠‡§æ‡§µ', color: 'from-orange-500 to-red-600' },\n    { icon: <Shield className=\"w-5 h-5\" />, text: '‡§ú‡•ã‡§ñ‡§ø‡§Æ ‡§ö‡•á‡§§‡§æ‡§µ‡§®‡•Ä', color: 'from-purple-500 to-pink-600' },\n    { icon: <Calendar className=\"w-5 h-5\" />, text: '‡§ñ‡•á‡§§‡•Ä ‡§ï‡•à‡§≤‡•á‡§Ç‡§°‡§∞', color: 'from-teal-500 to-cyan-600' },\n    { icon: <MapPin className=\"w-5 h-5\" />, text: '‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç', color: 'from-yellow-500 to-orange-600' }\n  ];\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const handleSendMessage = async () => {\n    if (inputText.trim()) {\n      await sendMessage(inputText, selectedLanguage);\n      setInputText('');\n      setIsTyping(true);\n      \n      // Simulate AI typing\n      setTimeout(() => {\n        setIsTyping(false);\n      }, 2000);\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const startVoiceRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      const recorder = new MediaRecorder(stream);\n      const chunks: Blob[] = [];\n      \n      recorder.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          chunks.push(event.data);\n        }\n      };\n      \n      recorder.onstop = async () => {\n        const audioBlob = new Blob(chunks, { type: 'audio/wav' });\n        await processVoiceInput(audioBlob);\n        stream.getTracks().forEach(track => track.stop());\n      };\n      \n      setMediaRecorder(recorder);\n      setAudioChunks(chunks);\n      recorder.start();\n      setIsRecording(true);\n      setIsListening(true);\n      setVoicePrompt('‡§¨‡•ã‡§≤ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...');\n      toast.success('üé§ KrishiMitra ‡§∏‡•Å‡§® ‡§∞‡§π‡§æ ‡§π‡•à‡•§ ‡§¨‡•ã‡§≤‡•á‡§Ç...');\n      \n      // Auto-stop after 15 seconds\n      setTimeout(() => {\n        if (recorder.state === 'recording') {\n          stopVoiceRecording();\n        }\n      }, 15000);\n      \n    } catch (error) {\n      console.error('Error starting voice recording:', error);\n      toast.error('‡§Æ‡§æ‡§á‡§ï‡•ç‡§∞‡•ã‡§´‡•ã‡§® ‡§ï‡•Ä ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§¶‡•á‡§Ç');\n    }\n  };\n\n  const stopVoiceRecording = () => {\n    if (mediaRecorder && mediaRecorder.state === 'recording') {\n      mediaRecorder.stop();\n      setIsRecording(false);\n      setIsListening(false);\n      setVoicePrompt('‡§Æ‡§æ‡§á‡§ï ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§ï‡•á ‡§¨‡•ã‡§≤‡•á‡§Ç');\n      toast.success('‚úÖ ‡§Ü‡§µ‡§æ‡§ú ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§°‡§ø‡§Ç‡§ó ‡§¨‡§Ç‡§¶');\n    }\n  };\n\n  const processVoiceInput = async (audioBlob: Blob) => {\n    try {\n      toast.success('üéµ OpenAI Voice API ‡§∏‡•á ‡§Ü‡§µ‡§æ‡§ú ‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏ ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à...');\n      \n      // Create FormData for file upload\n      const formData = new FormData();\n      formData.append('audio_file', audioBlob, 'voice_input.wav');\n      formData.append('language', selectedLanguage);\n      \n      // Send to OpenAI Voice API endpoint\n      const response = await fetch('/api/v1/voice/speech-to-text', {\n        method: 'POST',\n        body: formData,\n      });\n      \n      if (!response.ok) {\n        throw new Error('Voice processing failed');\n      }\n      \n      const result = await response.json();\n      \n      if (result.text) {\n        // Set the transcribed text and send the message\n        setInputText(result.text);\n        await sendMessage(result.text, result.language || selectedLanguage);\n        \n        toast.success('üéØ OpenAI Whisper ‡§∏‡•á ‡§Ü‡§µ‡§æ‡§ú ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏ ‡§π‡•Å‡§à!');\n      } else {\n        throw new Error('No text detected');\n      }\n      \n    } catch (error) {\n      console.error('Error processing voice input:', error);\n      \n      // Fallback to mock processing for demo\n      toast.success('üîÑ OpenAI API ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ, ‡§°‡•á‡§Æ‡•ã ‡§Æ‡•ã‡§° ‡§Æ‡•á‡§Ç ‡§ú‡§æ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...');\n      \n      const mockVoiceTexts = {\n        'hi': '‡§Æ‡•á‡§∞‡•Ä ‡§´‡§∏‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•å‡§® ‡§∏‡•Ä ‡§´‡§∏‡§≤ ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§π‡•ã‡§ó‡•Ä?',\n        'bn': '‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶´‡¶∏‡¶≤‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶® ‡¶´‡¶∏‡¶≤ ‡¶∏‡¶¨‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶≠‡¶æ‡¶≤‡ßã ‡¶π‡¶¨‡ßá?',\n        'ta': '‡Æé‡Æ©‡Øç ‡Æ™‡ÆØ‡Æø‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æé‡Æ®‡Øç‡Æ§ ‡Æ™‡ÆØ‡Æø‡Æ∞‡Øç ‡Æö‡Æø‡Æ±‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ?',\n        'te': '‡∞®‡∞æ ‡∞™‡∞Ç‡∞ü‡∞ï‡±Å ‡∞è ‡∞™‡∞Ç‡∞ü ‡∞â‡∞§‡±ç‡∞§‡∞Æ‡∞Ç?',\n        'mr': '‡∞Æ‡∞æ‡∞ú‡±Ä ‡∞™‡∞ø‡∞ï‡∞æ‡∞∏‡∞æ‡∞ü‡∞ø ‡∞ï‡±ã‡∞®‡∞§‡±á ‡∞™‡±Ä‡∞ï‡±ç ‡∞∏‡∞∞‡±ç‡∞µ‡±ã‡∞§‡±ç‡∞§‡∞Æ‡±ç ‡∞Ö‡∞π‡±á?',\n        'gu': '‡™Æ‡™æ‡™∞‡™æ ‡™™‡™æ‡™ï ‡™Æ‡™æ‡™ü‡´á ‡™ï‡™Ø‡´Å‡™Ç ‡™™‡™æ‡™ï ‡™∂‡´ç‡™∞‡´á‡™∑‡´ç‡™† ‡™õ‡´á?',\n        'pa': '‡®Æ‡©á‡®∞‡©Ä ‡®´‡®∏‡®≤ ‡®≤‡®à ‡®ï‡®ø‡®π‡©ú‡©Ä ‡®´‡®∏‡®≤ ‡®∏‡®≠ ‡®§‡©ã‡®Ç ‡®µ‡®ß‡©Ä‡®Ü ‡®π‡©à?',\n        'or': '‡¨Æ‡≠ã ‡¨´‡¨∏‡¨≤ ‡¨™‡¨æ‡¨á‡¨Å ‡¨ï‡≠á‡¨â‡¨Å ‡¨´‡¨∏‡¨≤ ‡¨∏‡¨∞‡≠ç‡¨¨‡≠ã‡¨§‡≠ç‡¨§‡¨Æ?',\n        'ml': '‡¥é‡¥®‡µç‡¥±‡µÜ ‡¥µ‡¥ø‡¥≥‡¥Ø‡µç‡¥ï‡µç‡¥ï‡µç ‡¥è‡¥§‡µç ‡¥µ‡¥ø‡¥≥ ‡¥Æ‡¥ø‡¥ï‡¥ö‡µç‡¥ö‡¥§‡¥æ‡¥£‡µç?',\n        'kn': '‡≤®‡≤®‡≥ç‡≤® ‡≤¨‡≥Ü‡≤≥‡≥Ü‡≤ó‡≤æ‡≤ó‡≤ø ‡≤Ø‡≤æ‡≤µ ‡≤¨‡≥Ü‡≤≥‡≥Ü ‡≤â‡≤§‡≥ç‡≤§‡≤Æ?'\n      };\n      \n      const mockText = mockVoiceTexts[selectedLanguage as keyof typeof mockVoiceTexts] || mockVoiceTexts['hi'];\n      setInputText(mockText);\n      await sendMessage(mockText, selectedLanguage);\n      \n      toast.success('üéØ ‡§°‡•á‡§Æ‡•ã ‡§Æ‡•ã‡§° ‡§Æ‡•á‡§Ç ‡§Ü‡§µ‡§æ‡§ú ‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏ ‡§π‡•Å‡§à!');\n    }\n  };\n\n  const handleVoiceToggle = () => {\n    if (isRecording) {\n      stopVoiceRecording();\n    } else {\n      startVoiceRecording();\n    }\n  };\n\n  const handleQuickAction = async (action: string) => {\n    const message = `Tell me about ${action.toLowerCase()}`;\n    await sendMessage(message, selectedLanguage);\n    toast.success(`Selected: ${action}`);\n  };\n\n  const formatTime = (date: Date) => {\n    return date.toLocaleTimeString('en-US', { \n      hour: '2-digit', \n      minute: '2-digit',\n      hour12: true \n    });\n  };\n\n  return (\n    <div className=\"flex flex-col h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50\">\n      {/* Header */}\n      <header className=\"bg-white/80 backdrop-blur-md border-b border-green-100 px-6 py-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center\">\n              <Brain className=\"w-6 h-6 text-white\" />\n            </div>\n            <div>\n              <h1 className=\"text-xl font-bold text-gray-900\">KrishiSampann AI</h1>\n              <p className=\"text-sm text-gray-600\">Your farming companion</p>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center space-x-4\">\n            <button\n              onClick={() => setShowVoiceSettings(!showVoiceSettings)}\n              className=\"p-2 text-gray-600 hover:text-green-600 transition-colors\"\n            >\n              <Settings className=\"w-5 h-5\" />\n            </button>\n            <div className=\"flex items-center space-x-2\">\n              <div className={`w-2 h-2 rounded-full animate-pulse ${isRecording ? 'bg-red-500' : 'bg-green-500'}`}></div>\n              <span className={`text-sm font-medium ${isRecording ? 'text-red-600' : 'text-green-600'}`}>\n                {isRecording ? 'Recording...' : 'AI Online'}\n              </span>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Voice Settings Panel */}\n      <AnimatePresence>\n        {showVoiceSettings && (\n          <motion.div\n            initial={{ opacity: 0, height: 0 }}\n            animate={{ opacity: 1, height: 'auto' }}\n            exit={{ opacity: 0, height: 0 }}\n            className=\"bg-white border-b border-green-100 px-6 py-4\"\n          >\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center space-x-4\">\n                <div className=\"flex items-center space-x-2\">\n                  <span className=\"text-sm font-medium text-gray-700\">Language:</span>\n                  <select\n                    value={selectedLanguage}\n                    onChange={(e) => setSelectedLanguage(e.target.value)}\n                    className=\"border border-green-200 rounded-lg px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n                  >\n                    {languages.map((lang) => (\n                      <option key={lang.code} value={lang.code}>\n                        {lang.flag} {lang.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                \n                <div className=\"flex items-center space-x-2\">\n                  <span className=\"text-sm font-medium text-gray-700\">Voice:</span>\n                  <button className=\"p-2 text-gray-600 hover:text-green-600 transition-colors\">\n                    <Volume2 className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n              \n              <div className=\"text-sm text-gray-500\">\n                Current: {languages.find(l => l.code === selectedLanguage)?.flag} {languages.find(l => l.code === selectedLanguage)?.name}\n              </div>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Quick Actions */}\n      <div className=\"px-6 py-4 bg-white/60 border-b border-green-100\">\n        <div className=\"flex items-center space-x-3 overflow-x-auto pb-2\">\n          {quickActions.map((action, index) => (\n            <motion.button\n              key={index}\n              initial={{ opacity: 0, scale: 0.8 }}\n              animate={{ opacity: 1, scale: 1 }}\n              transition={{ delay: index * 0.1 }}\n              onClick={() => handleQuickAction(action.text)}\n              className={`flex items-center space-x-2 px-4 py-2 rounded-full text-white font-medium text-sm whitespace-nowrap bg-gradient-to-r ${action.color} hover:shadow-lg transition-all duration-300 transform hover:-translate-y-0.5`}\n            >\n              {action.icon}\n              <span>{action.text}</span>\n            </motion.button>\n          ))}\n        </div>\n      </div>\n\n      {/* Messages */}\n      <div className=\"flex-1 overflow-y-auto px-6 py-4 space-y-4\">\n        {messages.length === 0 ? (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"text-center py-12\"\n          >\n            <div className=\"w-20 h-20 bg-gradient-to-br from-green-100 to-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <Sparkles className=\"w-10 h-10 text-green-600\" />\n            </div>\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">Welcome to KrishiSampann AI!</h3>\n            <p className=\"text-gray-600 mb-6\">\n              Ask me anything about farming, loans, market prices, or government schemes. \n              I'm here to help you make better decisions.\n            </p>\n            <div className=\"flex items-center justify-center space-x-2 text-sm text-gray-500\">\n              <Mic className=\"w-4 h-4\" />\n              <span>Try voice input or type your question below</span>\n            </div>\n          </motion.div>\n        ) : (\n          messages.map((message, index) => (\n            <motion.div\n              key={message.id}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: index * 0.1 }}\n              className={`flex ${message.sender === 'user' ? 'justify-end' : 'justify-start'}`}\n            >\n              <div className={`flex items-start space-x-3 max-w-xs lg:max-w-md ${message.sender === 'user' ? 'flex-row-reverse space-x-reverse' : ''}`}>\n                <div className={`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${\n                  message.sender === 'user' \n                    ? 'bg-gradient-to-br from-blue-500 to-indigo-600' \n                    : 'bg-gradient-to-br from-green-500 to-emerald-600'\n                }`}>\n                  {message.sender === 'user' ? (\n                    <User className=\"w-4 h-4 text-white\" />\n                  ) : (\n                    <Bot className=\"w-4 h-4 text-white\" />\n                  )}\n                </div>\n                \n                <div className={`rounded-2xl px-4 py-3 ${\n                  message.sender === 'user'\n                    ? 'bg-gradient-to-r from-blue-500 to-indigo-600 text-white'\n                    : 'bg-white text-gray-800 border border-green-100 shadow-sm'\n                }`}>\n                  <p className=\"text-sm leading-relaxed\">{message.text}</p>\n                  <div className={`text-xs mt-2 ${\n                    message.sender === 'user' ? 'text-blue-100' : 'text-gray-500'\n                  }`}>\n                    {formatTime(message.timestamp)}\n                  </div>\n                </div>\n              </div>\n            </motion.div>\n          ))\n        )}\n\n        {/* Typing Indicator */}\n        {isTyping && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"flex justify-start\"\n          >\n            <div className=\"flex items-start space-x-3\">\n              <div className=\"w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center\">\n                <Bot className=\"w-4 h-4 text-white\" />\n              </div>\n              <div className=\"bg-white rounded-2xl px-4 py-3 border border-green-100 shadow-sm\">\n                <div className=\"flex items-center space-x-2\">\n                  <Loader2 className=\"w-4 h-4 text-green-600 animate-spin\" />\n                  <span className=\"text-sm text-gray-600\">AI is thinking...</span>\n                </div>\n              </div>\n            </div>\n          </motion.div>\n        )}\n\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Input Area */}\n      <div className=\"bg-white border-t border-green-100 px-6 py-4\">\n        <div className=\"flex items-center space-x-4\">\n          <div className=\"flex-1 relative\">\n            <input\n              ref={inputRef}\n              type=\"text\"\n              value={inputText}\n              onChange={(e) => setInputText(e.target.value)}\n              onKeyPress={handleKeyPress}\n              placeholder=\"‡§¨‡•ã‡§≤‡§ï‡§∞ ‡§™‡•Ç‡§õ‡•á‡§Ç ‡§Ø‡§æ ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡•á‡§Ç - ‡§´‡§∏‡§≤, ‡§ã‡§£, ‡§Æ‡§Ç‡§°‡•Ä ‡§≠‡§æ‡§µ, ‡§Ø‡§æ ‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç...\"\n              className=\"w-full px-4 py-3 border border-green-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-gray-700 placeholder-gray-400\"\n              disabled={isLoading}\n            />\n            {selectedLanguage !== 'en' && (\n              <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\n                <span className=\"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full\">\n                  {languages.find(l => l.code === selectedLanguage)?.flag}\n                </span>\n              </div>\n            )}\n          </div>\n          \n          <button\n            onClick={handleVoiceToggle}\n            className={`p-3 rounded-full transition-all duration-300 ${\n              isRecording \n                ? 'bg-red-500 text-white shadow-lg animate-pulse' \n                : 'bg-green-500 text-white hover:bg-green-600 hover:shadow-lg'\n            }`}\n            disabled={isLoading}\n          >\n            {isRecording ? <MicOff className=\"w-5 h-5\" /> : <Mic className=\"w-5 h-5\" />}\n          </button>\n          \n          <button\n            onClick={handleSendMessage}\n            disabled={!inputText.trim() || isLoading}\n            className=\"p-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-full hover:from-green-600 hover:to-emerald-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\n          >\n            <Send className=\"w-5 h-5\" />\n          </button>\n        </div>\n        \n        <div className=\"mt-3 flex items-center justify-between text-xs text-gray-500\">\n          <span>Press Enter to send, Shift+Enter for new line</span>\n          <span>Powered by KrishiMitra AI</span>\n        </div>\n      </div>\n\n      {/* Hidden audio element for voice playback */}\n      <audio id=\"audio-player\" style={{ display: 'none' }} />\n    </div>\n  );\n};\n\nexport default Chat;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}