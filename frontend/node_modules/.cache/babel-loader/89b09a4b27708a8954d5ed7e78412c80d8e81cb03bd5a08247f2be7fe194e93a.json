{"ast":null,"code":"var _jsxFileName = \"/Users/roopkishor.singh/Downloads/capital-one-hackathon/frontend/src/pages/Chat.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Mic, MicOff, Phone, PhoneOff, Video, VideoOff, Settings, User, Bot, Volume2, Camera, MoreVertical, Minimize2, Maximize2 } from 'lucide-react';\nimport { useAuth } from '../hooks/useAuth';\nimport { useChat } from '../contexts/ChatContext';\nimport { toast } from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chat = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const {\n    messages,\n    sendMessage,\n    isConnected\n  } = useChat();\n  const [inputText, setInputText] = useState('');\n  const [selectedLanguage, setSelectedLanguage] = useState('hi');\n  const [isRecording, setIsRecording] = useState(false);\n  const [mediaRecorder, setMediaRecorder] = useState(null);\n  const [audioChunks, setAudioChunks] = useState([]);\n  const [isListening, setIsListening] = useState(false);\n  const [voicePrompt, setVoicePrompt] = useState('माइक पर क्लिक करके बोलें');\n\n  // Video call states\n  const [isVideoOn, setIsVideoOn] = useState(true);\n  const [isAudioOn, setIsAudioOn] = useState(true);\n  const [isMuted, setIsMuted] = useState(false);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [showControls, setShowControls] = useState(true);\n  const [isKrishiMitraSpeaking, setIsKrishiMitraSpeaking] = useState(false);\n  const [currentSpeaker, setCurrentSpeaker] = useState(null);\n  const messagesEndRef = useRef(null);\n  const videoRef = useRef(null);\n  const krishiMitraVideoRef = useRef(null);\n  const languages = [{\n    code: 'hi',\n    name: 'हिंदी',\n    flag: '🇮🇳'\n  }, {\n    code: 'en',\n    name: 'English',\n    flag: '🇮🇳'\n  }, {\n    code: 'bn',\n    name: 'বাংলা',\n    flag: '🇮🇳'\n  }, {\n    code: 'ta',\n    name: 'தமிழ்',\n    flag: '🇮🇳'\n  }, {\n    code: 'te',\n    name: 'తెలుగు',\n    flag: '🇮🇳'\n  }, {\n    code: 'mr',\n    name: 'मराठी',\n    flag: '🇮🇳'\n  }, {\n    code: 'gu',\n    name: 'ગુજરાતી',\n    flag: '🇮🇳'\n  }, {\n    code: 'pa',\n    name: 'ਪੰਜਾਬੀ',\n    flag: '🇮🇳'\n  }, {\n    code: 'or',\n    name: 'ଓଡ଼ିଆ',\n    flag: '🇮🇳'\n  }, {\n    code: 'ml',\n    name: 'മലയാളം',\n    flag: '🇮🇳'\n  }, {\n    code: 'kn',\n    name: 'ಕನ್ನಡ',\n    flag: '🇮🇳'\n  }];\n  useEffect(() => {\n    // Add welcome message\n    if (messages.length === 0) {\n      addMessage({\n        id: 'welcome',\n        text: `नमस्ते ${(user === null || user === void 0 ? void 0 : user.name) || 'किसान'}! मैं KrishiMitra आपकी कैसे मदद कर सकता हूं? बोलकर अपना सवाल पूछें - फसल, ऋण, मंडी भाव, मौसम या सरकारी योजनाओं के बारे में।`,\n        sender: 'ai',\n        timestamp: new Date(),\n        metadata: {\n          voice_ready: [`नमस्ते ${(user === null || user === void 0 ? void 0 : user.name) || 'किसान'}! मैं KrishiMitra आपकी कैसे मदद कर सकता हूं?`, \"बोलकर अपना सवाल पूछें - फसल, ऋण, मंडी भाव, मौसम या सरकारी योजनाओं के बारे में।\"],\n          intent: 'welcome',\n          suggestions: ['फसल की सलाह लें', 'ऋण की जानकारी लें', 'मंडी भाव जानें', 'मौसम की जानकारी लें']\n        }\n      });\n    }\n  }, [messages.length, user === null || user === void 0 ? void 0 : user.name]);\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const addMessage = message => {\n    // This would be handled by the chat context\n    console.log('Adding message:', message);\n  };\n  const handleSendMessage = async () => {\n    if (!inputText.trim()) return;\n    setCurrentSpeaker('farmer');\n    setIsKrishiMitraSpeaking(false);\n    await sendMessage(inputText, selectedLanguage);\n    setInputText('');\n\n    // Simulate KrishiMitra response\n    setTimeout(() => {\n      setCurrentSpeaker('krishimitra');\n      setIsKrishiMitraSpeaking(true);\n\n      // Stop speaking after 3 seconds\n      setTimeout(() => {\n        setIsKrishiMitraSpeaking(false);\n        setCurrentSpeaker(null);\n      }, 3000);\n    }, 1000);\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const startVoiceRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      const recorder = new MediaRecorder(stream);\n      const chunks = [];\n      recorder.ondataavailable = event => {\n        if (event.data.size > 0) {\n          chunks.push(event.data);\n        }\n      };\n      recorder.onstop = async () => {\n        const audioBlob = new Blob(chunks, {\n          type: 'audio/wav'\n        });\n        await processVoiceInput(audioBlob);\n        stream.getTracks().forEach(track => track.stop());\n      };\n      setMediaRecorder(recorder);\n      setAudioChunks(chunks);\n      recorder.start();\n      setIsRecording(true);\n      setIsListening(true);\n      setVoicePrompt('बोल रहे हैं...');\n      setCurrentSpeaker('farmer');\n      toast.success('🎤 KrishiMitra सुन रहा है। बोलें...');\n\n      // Auto-stop after 15 seconds\n      setTimeout(() => {\n        if (recorder.state === 'recording') {\n          stopVoiceRecording();\n        }\n      }, 15000);\n    } catch (error) {\n      console.error('Error starting voice recording:', error);\n      toast.error('माइक्रोफोन की अनुमति दें');\n    }\n  };\n  const stopVoiceRecording = () => {\n    if (mediaRecorder && mediaRecorder.state === 'recording') {\n      mediaRecorder.stop();\n      setIsRecording(false);\n      setIsListening(false);\n      setVoicePrompt('माइक पर क्लिक करके बोलें');\n      setCurrentSpeaker(null);\n      toast.success('✅ आवाज रिकॉर्डिंग बंद');\n    }\n  };\n  const processVoiceInput = async audioBlob => {\n    try {\n      toast.success('🎵 OpenAI Voice API से आवाज प्रोसेस हो रही है...');\n\n      // Create FormData for file upload\n      const formData = new FormData();\n      formData.append('audio_file', audioBlob, 'voice_input.wav');\n      formData.append('language', selectedLanguage);\n\n      // Send to OpenAI Voice API endpoint\n      const response = await fetch('/api/v1/voice/speech-to-text', {\n        method: 'POST',\n        body: formData\n      });\n      if (!response.ok) {\n        throw new Error('Voice processing failed');\n      }\n      const result = await response.json();\n      if (result.text) {\n        // Set the transcribed text and send the message\n        setInputText(result.text);\n        await sendMessage(result.text, result.language || selectedLanguage);\n        toast.success('🎯 OpenAI Whisper से आवाज सफलतापूर्वक प्रोसेस हुई!');\n      } else {\n        throw new Error('No text detected');\n      }\n    } catch (error) {\n      console.error('Error processing voice input:', error);\n\n      // Fallback to mock processing for demo\n      toast.success('🔄 OpenAI API के साथ समस्या, डेमो मोड में जा रहे हैं...');\n      const mockVoiceTexts = {\n        'hi': 'मेरी फसल के लिए कौन सी फसल सबसे अच्छी होगी?',\n        'bn': 'আমার ফসলের জন্য কোন ফসল সবচেয়ে ভালো হবে?',\n        'ta': 'என் பயிருக்கு எந்த பயிர் சிறந்தது?',\n        'te': 'నా పంటకు ఏ పంట ఉత్తమం?',\n        'mr': 'మాజీ పికాసాటి కోనతే పీక్ సర్వోత్తమ్ అహే?',\n        'gu': 'મારા પાક માટે કયું પાક શ્રેષ્ઠ છે?',\n        'pa': 'ਮੇਰੀ ਫਸਲ ਲਈ ਕਿਹੜੀ ਫਸਲ ਸਭ ਤੋਂ ਵਧੀਆ ਹੈ?',\n        'or': 'ମୋ ଫସଲ ପାଇଁ କେଉଁ ଫସଲ ସର୍ବୋତ୍ତମ?',\n        'ml': 'എന്റെ വിളയ്ക്ക് ഏത് വിള മികച്ചതാണ്?',\n        'kn': 'ನನ್ನ ಬೆಳೆಗಾಗಿ ಯಾವ ಬೆಳೆ ಉತ್ತಮ?'\n      };\n      const mockText = mockVoiceTexts[selectedLanguage] || mockVoiceTexts['hi'];\n      setInputText(mockText);\n      await sendMessage(mockText, selectedLanguage);\n      toast.success('🎯 डेमो मोड में आवाज प्रोसेस हुई!');\n    }\n  };\n  const handleVoiceToggle = () => {\n    if (isRecording) {\n      stopVoiceRecording();\n    } else {\n      startVoiceRecording();\n    }\n  };\n  const handleQuickAction = async action => {\n    const message = `Tell me about ${action.toLowerCase()}`;\n    setInputText(message);\n    await sendMessage(message, selectedLanguage);\n  };\n  const toggleVideo = () => {\n    setIsVideoOn(!isVideoOn);\n    toast.success(isVideoOn ? '📹 वीडियो बंद' : '📹 वीडियो चालू');\n  };\n  const toggleAudio = () => {\n    setIsAudioOn(!isAudioOn);\n    setIsMuted(!isMuted);\n    toast.success(isMuted ? '🔊 ऑडियो चालू' : '🔇 ऑडियो बंद');\n  };\n  const toggleFullscreen = () => {\n    setIsFullscreen(!isFullscreen);\n    toast.success(isFullscreen ? '📱 पूर्ण स्क्रीन बंद' : '📱 पूर्ण स्क्रीन चालू');\n  };\n  const quickActions = [{\n    icon: /*#__PURE__*/_jsxDEV(User, {\n      className: \"w-5 h-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 13\n    }, this),\n    text: 'फसल सलाह',\n    color: 'bg-green-500 hover:bg-green-600'\n  }, {\n    icon: /*#__PURE__*/_jsxDEV(Bot, {\n      className: \"w-5 h-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 13\n    }, this),\n    text: 'ऋण जानकारी',\n    color: 'bg-blue-500 hover:bg-blue-600'\n  }, {\n    icon: /*#__PURE__*/_jsxDEV(Volume2, {\n      className: \"w-5 h-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 13\n    }, this),\n    text: 'मंडी भाव',\n    color: 'bg-yellow-500 hover:bg-yellow-600'\n  }, {\n    icon: /*#__PURE__*/_jsxDEV(Camera, {\n      className: \"w-5 h-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 13\n    }, this),\n    text: 'मौसम जानकारी',\n    color: 'bg-purple-500 hover:bg-purple-600'\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `min-h-screen bg-gradient-to-br from-green-50 to-blue-50 ${isFullscreen ? 'fixed inset-0 z-50' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-sm border-b\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 py-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 h-10 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Bot, {\n                className: \"w-6 h-6 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-lg font-semibold text-gray-900\",\n                children: \"KrishiMitra Video Call\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: isConnected ? '🟢 Connected' : '🔴 Disconnected'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedLanguage,\n              onChange: e => setSelectedLanguage(e.target.value),\n              className: \"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\",\n              children: languages.map(lang => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: lang.code,\n                children: [lang.flag, \" \", lang.name]\n              }, lang.code, true, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleFullscreen,\n              className: \"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors\",\n              children: isFullscreen ? /*#__PURE__*/_jsxDEV(Minimize2, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 33\n              }, this) : /*#__PURE__*/_jsxDEV(Maximize2, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 69\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 py-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[calc(100vh-200px)]\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative bg-gray-900 rounded-xl overflow-hidden shadow-2xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 bg-gradient-to-br from-green-600/20 to-blue-600/20 z-10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 flex items-center justify-center\",\n            children: isVideoOn ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-32 h-32 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4\",\n                children: /*#__PURE__*/_jsxDEV(User, {\n                  className: \"w-16 h-16 text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-white text-lg font-medium\",\n                children: (user === null || user === void 0 ? void 0 : user.name) || 'किसान'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-300 text-sm\",\n                children: \"\\u0906\\u092A\\u0915\\u093E \\u0935\\u0940\\u0921\\u093F\\u092F\\u094B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-32 h-32 bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4\",\n                children: /*#__PURE__*/_jsxDEV(VideoOff, {\n                  className: \"w-16 h-16 text-gray-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-400 text-lg\",\n                children: \"\\u0935\\u0940\\u0921\\u093F\\u092F\\u094B \\u092C\\u0902\\u0926 \\u0939\\u0948\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), currentSpeaker === 'farmer' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-4 left-4 bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium animate-pulse\",\n            children: \"\\uD83C\\uDFA4 \\u092C\\u094B\\u0932 \\u0930\\u0939\\u0947 \\u0939\\u0948\\u0902\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-4 right-4 flex space-x-2\",\n            children: [!isAudioOn && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-red-500 text-white p-2 rounded-full\",\n              children: /*#__PURE__*/_jsxDEV(MicOff, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this), !isVideoOn && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-red-500 text-white p-2 rounded-full\",\n              children: /*#__PURE__*/_jsxDEV(VideoOff, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute bottom-4 left-4 bg-black/50 text-white px-3 py-1 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium\",\n              children: (user === null || user === void 0 ? void 0 : user.name) || 'किसान'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative bg-gray-900 rounded-xl overflow-hidden shadow-2xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 bg-gradient-to-br from-blue-600/20 to-purple-600/20 z-10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-4 transition-all duration-300 ${isKrishiMitraSpeaking ? 'bg-gradient-to-r from-blue-500 to-purple-500 animate-pulse' : 'bg-gradient-to-r from-blue-600 to-purple-600'}`,\n                children: /*#__PURE__*/_jsxDEV(Bot, {\n                  className: \"w-16 h-16 text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-white text-lg font-medium\",\n                children: \"KrishiMitra AI\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-300 text-sm\",\n                children: \"\\u0906\\u092A\\u0915\\u093E AI \\u0938\\u0939\\u093E\\u092F\\u0915\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this), currentSpeaker === 'krishimitra' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-4 left-4 bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-medium animate-pulse\",\n            children: \"\\uD83E\\uDD16 \\u092C\\u094B\\u0932 \\u0930\\u0939\\u093E \\u0939\\u0948\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-4 right-4 bg-green-500 text-white px-3 py-1 rounded-full text-sm\",\n            children: \"AI \\u0938\\u0915\\u094D\\u0930\\u093F\\u092F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute bottom-4 left-4 bg-black/50 text-white px-3 py-1 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium\",\n              children: \"KrishiMitra AI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 bg-white rounded-xl shadow-lg p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleAudio,\n              className: `p-4 rounded-full transition-all duration-200 ${isMuted ? 'bg-red-500 text-white hover:bg-red-600' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`,\n              children: isMuted ? /*#__PURE__*/_jsxDEV(MicOff, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 28\n              }, this) : /*#__PURE__*/_jsxDEV(Mic, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 61\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleVideo,\n              className: `p-4 rounded-full transition-all duration-200 ${!isVideoOn ? 'bg-red-500 text-white hover:bg-red-600' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`,\n              children: isVideoOn ? /*#__PURE__*/_jsxDEV(Video, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 30\n              }, this) : /*#__PURE__*/_jsxDEV(VideoOff, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 62\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleVoiceToggle,\n              className: `p-4 rounded-full transition-all duration-200 ${isRecording ? 'bg-red-500 text-white hover:bg-red-600 animate-pulse' : 'bg-green-500 text-white hover:bg-green-600'}`,\n              children: isRecording ? /*#__PURE__*/_jsxDEV(MicOff, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 32\n              }, this) : /*#__PURE__*/_jsxDEV(Mic, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 65\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"p-4 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(PhoneOff, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"p-4 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(Phone, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"p-4 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(Settings, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"p-4 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(MoreVertical, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 pt-6 border-t border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-medium text-gray-700 mb-3\",\n            children: \"\\u0924\\u094D\\u0935\\u0930\\u093F\\u0924 \\u0915\\u093E\\u0930\\u094D\\u092F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-3\",\n            children: quickActions.map((action, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleQuickAction(action.text),\n              className: `${action.color} text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center space-x-2`,\n              children: [action.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n                children: action.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 pt-4 border-t border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: inputText,\n              onChange: e => setInputText(e.target.value),\n              onKeyPress: handleKeyPress,\n              placeholder: \"\\u092C\\u094B\\u0932\\u0915\\u0930 \\u092A\\u0942\\u091B\\u0947\\u0902 \\u092F\\u093E \\u091F\\u093E\\u0907\\u092A \\u0915\\u0930\\u0947\\u0902 - \\u092B\\u0938\\u0932, \\u090B\\u0923, \\u092E\\u0902\\u0921\\u0940 \\u092D\\u093E\\u0935, \\u092F\\u093E \\u0938\\u0930\\u0915\\u093E\\u0930\\u0940 \\u092F\\u094B\\u091C\\u0928\\u093E\\u090F\\u0902...\",\n              className: \"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSendMessage,\n              disabled: !inputText.trim(),\n              className: \"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",\n              children: \"\\u092D\\u0947\\u091C\\u0947\\u0902\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border-t mt-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 py-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between text-sm text-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Powered by KrishiMitra AI\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"OpenAI Voice API \\u2022 Real-time AI Assistant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 280,\n    columnNumber: 5\n  }, this);\n};\n_s(Chat, \"cADXn231fyVs/i/HkP7fYFx80aQ=\", false, function () {\n  return [useAuth, useChat];\n});\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Mic","MicOff","Phone","PhoneOff","Video","VideoOff","Settings","User","Bot","Volume2","Camera","MoreVertical","Minimize2","Maximize2","useAuth","useChat","toast","jsxDEV","_jsxDEV","Chat","_s","user","messages","sendMessage","isConnected","inputText","setInputText","selectedLanguage","setSelectedLanguage","isRecording","setIsRecording","mediaRecorder","setMediaRecorder","audioChunks","setAudioChunks","isListening","setIsListening","voicePrompt","setVoicePrompt","isVideoOn","setIsVideoOn","isAudioOn","setIsAudioOn","isMuted","setIsMuted","isFullscreen","setIsFullscreen","showControls","setShowControls","isKrishiMitraSpeaking","setIsKrishiMitraSpeaking","currentSpeaker","setCurrentSpeaker","messagesEndRef","videoRef","krishiMitraVideoRef","languages","code","name","flag","length","addMessage","id","text","sender","timestamp","Date","metadata","voice_ready","intent","suggestions","_messagesEndRef$curre","current","scrollIntoView","behavior","message","console","log","handleSendMessage","trim","setTimeout","handleKeyPress","e","key","shiftKey","preventDefault","startVoiceRecording","stream","navigator","mediaDevices","getUserMedia","audio","recorder","MediaRecorder","chunks","ondataavailable","event","data","size","push","onstop","audioBlob","Blob","type","processVoiceInput","getTracks","forEach","track","stop","start","success","state","stopVoiceRecording","error","formData","FormData","append","response","fetch","method","body","ok","Error","result","json","language","mockVoiceTexts","mockText","handleVoiceToggle","handleQuickAction","action","toLowerCase","toggleVideo","toggleAudio","toggleFullscreen","quickActions","icon","className","fileName","_jsxFileName","lineNumber","columnNumber","color","children","value","onChange","target","map","lang","onClick","index","onKeyPress","placeholder","disabled","_c","$RefreshReg$"],"sources":["/Users/roopkishor.singh/Downloads/capital-one-hackathon/frontend/src/pages/Chat.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  Mic, \n  MicOff, \n  Phone, \n  PhoneOff, \n  Video, \n  VideoOff, \n  Settings, \n  MessageSquare,\n  User,\n  Bot,\n  Volume2,\n  VolumeX,\n  Camera,\n  CameraOff,\n  MoreVertical,\n  Minimize2,\n  Maximize2\n} from 'lucide-react';\nimport { useAuth } from '../hooks/useAuth';\nimport { useChat } from '../contexts/ChatContext';\nimport { toast } from 'react-hot-toast';\n\ninterface Message {\n  id: string;\n  text: string;\n  sender: 'user' | 'ai';\n  timestamp: Date;\n  metadata?: {\n    language?: string;\n    confidence?: number;\n    voice_ready?: string[];\n    intent?: string;\n    suggestions?: string[];\n  };\n}\n\nconst Chat: React.FC = () => {\n  const { user } = useAuth();\n  const { messages, sendMessage, isConnected } = useChat();\n  const [inputText, setInputText] = useState('');\n  const [selectedLanguage, setSelectedLanguage] = useState('hi');\n  const [isRecording, setIsRecording] = useState(false);\n  const [mediaRecorder, setMediaRecorder] = useState<MediaRecorder | null>(null);\n  const [audioChunks, setAudioChunks] = useState<Blob[]>([]);\n  const [isListening, setIsListening] = useState(false);\n  const [voicePrompt, setVoicePrompt] = useState('माइक पर क्लिक करके बोलें');\n  \n  // Video call states\n  const [isVideoOn, setIsVideoOn] = useState(true);\n  const [isAudioOn, setIsAudioOn] = useState(true);\n  const [isMuted, setIsMuted] = useState(false);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [showControls, setShowControls] = useState(true);\n  const [isKrishiMitraSpeaking, setIsKrishiMitraSpeaking] = useState(false);\n  const [currentSpeaker, setCurrentSpeaker] = useState<'farmer' | 'krishimitra' | null>(null);\n  \n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const krishiMitraVideoRef = useRef<HTMLVideoElement>(null);\n\n  const languages = [\n    { code: 'hi', name: 'हिंदी', flag: '🇮🇳' },\n    { code: 'en', name: 'English', flag: '🇮🇳' },\n    { code: 'bn', name: 'বাংলা', flag: '🇮🇳' },\n    { code: 'ta', name: 'தமிழ்', flag: '🇮🇳' },\n    { code: 'te', name: 'తెలుగు', flag: '🇮🇳' },\n    { code: 'mr', name: 'मराठी', flag: '🇮🇳' },\n    { code: 'gu', name: 'ગુજરાતી', flag: '🇮🇳' },\n    { code: 'pa', name: 'ਪੰਜਾਬੀ', flag: '🇮🇳' },\n    { code: 'or', name: 'ଓଡ଼ିଆ', flag: '🇮🇳' },\n    { code: 'ml', name: 'മലയാളം', flag: '🇮🇳' },\n    { code: 'kn', name: 'ಕನ್ನಡ', flag: '🇮🇳' }\n  ];\n\n  useEffect(() => {\n    // Add welcome message\n    if (messages.length === 0) {\n      addMessage({\n        id: 'welcome',\n        text: `नमस्ते ${user?.name || 'किसान'}! मैं KrishiMitra आपकी कैसे मदद कर सकता हूं? बोलकर अपना सवाल पूछें - फसल, ऋण, मंडी भाव, मौसम या सरकारी योजनाओं के बारे में।`,\n        sender: 'ai',\n        timestamp: new Date(),\n        metadata: {\n          voice_ready: [`नमस्ते ${user?.name || 'किसान'}! मैं KrishiMitra आपकी कैसे मदद कर सकता हूं?`, \"बोलकर अपना सवाल पूछें - फसल, ऋण, मंडी भाव, मौसम या सरकारी योजनाओं के बारे में।\"],\n          intent: 'welcome',\n          suggestions: ['फसल की सलाह लें', 'ऋण की जानकारी लें', 'मंडी भाव जानें', 'मौसम की जानकारी लें']\n        }\n      });\n    }\n  }, [messages.length, user?.name]);\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const addMessage = (message: Message) => {\n    // This would be handled by the chat context\n    console.log('Adding message:', message);\n  };\n\n  const handleSendMessage = async () => {\n    if (!inputText.trim()) return;\n    \n    setCurrentSpeaker('farmer');\n    setIsKrishiMitraSpeaking(false);\n    \n    await sendMessage(inputText, selectedLanguage);\n    setInputText('');\n    \n    // Simulate KrishiMitra response\n    setTimeout(() => {\n      setCurrentSpeaker('krishimitra');\n      setIsKrishiMitraSpeaking(true);\n      \n      // Stop speaking after 3 seconds\n      setTimeout(() => {\n        setIsKrishiMitraSpeaking(false);\n        setCurrentSpeaker(null);\n      }, 3000);\n    }, 1000);\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const startVoiceRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      const recorder = new MediaRecorder(stream);\n      const chunks: Blob[] = [];\n      \n      recorder.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          chunks.push(event.data);\n        }\n      };\n      \n      recorder.onstop = async () => {\n        const audioBlob = new Blob(chunks, { type: 'audio/wav' });\n        await processVoiceInput(audioBlob);\n        stream.getTracks().forEach(track => track.stop());\n      };\n      \n      setMediaRecorder(recorder);\n      setAudioChunks(chunks);\n      recorder.start();\n      setIsRecording(true);\n      setIsListening(true);\n      setVoicePrompt('बोल रहे हैं...');\n      setCurrentSpeaker('farmer');\n      toast.success('🎤 KrishiMitra सुन रहा है। बोलें...');\n      \n      // Auto-stop after 15 seconds\n      setTimeout(() => {\n        if (recorder.state === 'recording') {\n          stopVoiceRecording();\n        }\n      }, 15000);\n      \n    } catch (error) {\n      console.error('Error starting voice recording:', error);\n      toast.error('माइक्रोफोन की अनुमति दें');\n    }\n  };\n\n  const stopVoiceRecording = () => {\n    if (mediaRecorder && mediaRecorder.state === 'recording') {\n      mediaRecorder.stop();\n      setIsRecording(false);\n      setIsListening(false);\n      setVoicePrompt('माइक पर क्लिक करके बोलें');\n      setCurrentSpeaker(null);\n      toast.success('✅ आवाज रिकॉर्डिंग बंद');\n    }\n  };\n\n  const processVoiceInput = async (audioBlob: Blob) => {\n    try {\n      toast.success('🎵 OpenAI Voice API से आवाज प्रोसेस हो रही है...');\n      \n      // Create FormData for file upload\n      const formData = new FormData();\n      formData.append('audio_file', audioBlob, 'voice_input.wav');\n      formData.append('language', selectedLanguage);\n      \n      // Send to OpenAI Voice API endpoint\n      const response = await fetch('/api/v1/voice/speech-to-text', {\n        method: 'POST',\n        body: formData,\n      });\n      \n      if (!response.ok) {\n        throw new Error('Voice processing failed');\n      }\n      \n      const result = await response.json();\n      \n      if (result.text) {\n        // Set the transcribed text and send the message\n        setInputText(result.text);\n        await sendMessage(result.text, result.language || selectedLanguage);\n        \n        toast.success('🎯 OpenAI Whisper से आवाज सफलतापूर्वक प्रोसेस हुई!');\n      } else {\n        throw new Error('No text detected');\n      }\n      \n    } catch (error) {\n      console.error('Error processing voice input:', error);\n      \n      // Fallback to mock processing for demo\n      toast.success('🔄 OpenAI API के साथ समस्या, डेमो मोड में जा रहे हैं...');\n      \n      const mockVoiceTexts = {\n        'hi': 'मेरी फसल के लिए कौन सी फसल सबसे अच्छी होगी?',\n        'bn': 'আমার ফসলের জন্য কোন ফসল সবচেয়ে ভালো হবে?',\n        'ta': 'என் பயிருக்கு எந்த பயிர் சிறந்தது?',\n        'te': 'నా పంటకు ఏ పంట ఉత్తమం?',\n        'mr': 'మాజీ పికాసాటి కోనతే పీక్ సర్వోత్తమ్ అహే?',\n        'gu': 'મારા પાક માટે કયું પાક શ્રેષ્ઠ છે?',\n        'pa': 'ਮੇਰੀ ਫਸਲ ਲਈ ਕਿਹੜੀ ਫਸਲ ਸਭ ਤੋਂ ਵਧੀਆ ਹੈ?',\n        'or': 'ମୋ ଫସଲ ପାଇଁ କେଉଁ ଫସଲ ସର୍ବୋତ୍ତମ?',\n        'ml': 'എന്റെ വിളയ്ക്ക് ഏത് വിള മികച്ചതാണ്?',\n        'kn': 'ನನ್ನ ಬೆಳೆಗಾಗಿ ಯಾವ ಬೆಳೆ ಉತ್ತಮ?'\n      };\n      \n      const mockText = mockVoiceTexts[selectedLanguage as keyof typeof mockVoiceTexts] || mockVoiceTexts['hi'];\n      setInputText(mockText);\n      await sendMessage(mockText, selectedLanguage);\n      \n      toast.success('🎯 डेमो मोड में आवाज प्रोसेस हुई!');\n    }\n  };\n\n  const handleVoiceToggle = () => {\n    if (isRecording) {\n      stopVoiceRecording();\n    } else {\n      startVoiceRecording();\n    }\n  };\n\n  const handleQuickAction = async (action: string) => {\n    const message = `Tell me about ${action.toLowerCase()}`;\n    setInputText(message);\n    await sendMessage(message, selectedLanguage);\n  };\n\n  const toggleVideo = () => {\n    setIsVideoOn(!isVideoOn);\n    toast.success(isVideoOn ? '📹 वीडियो बंद' : '📹 वीडियो चालू');\n  };\n\n  const toggleAudio = () => {\n    setIsAudioOn(!isAudioOn);\n    setIsMuted(!isMuted);\n    toast.success(isMuted ? '🔊 ऑडियो चालू' : '🔇 ऑडियो बंद');\n  };\n\n  const toggleFullscreen = () => {\n    setIsFullscreen(!isFullscreen);\n    toast.success(isFullscreen ? '📱 पूर्ण स्क्रीन बंद' : '📱 पूर्ण स्क्रीन चालू');\n  };\n\n  const quickActions = [\n    { icon: <User className=\"w-5 h-5\" />, text: 'फसल सलाह', color: 'bg-green-500 hover:bg-green-600' },\n    { icon: <Bot className=\"w-5 h-5\" />, text: 'ऋण जानकारी', color: 'bg-blue-500 hover:bg-blue-600' },\n    { icon: <Volume2 className=\"w-5 h-5\" />, text: 'मंडी भाव', color: 'bg-yellow-500 hover:bg-yellow-600' },\n    { icon: <Camera className=\"w-5 h-5\" />, text: 'मौसम जानकारी', color: 'bg-purple-500 hover:bg-purple-600' }\n  ];\n\n  return (\n    <div className={`min-h-screen bg-gradient-to-br from-green-50 to-blue-50 ${isFullscreen ? 'fixed inset-0 z-50' : ''}`}>\n      {/* Header */}\n      <div className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 py-3\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-10 h-10 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center\">\n                <Bot className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h1 className=\"text-lg font-semibold text-gray-900\">KrishiMitra Video Call</h1>\n                <p className=\"text-sm text-gray-500\">\n                  {isConnected ? '🟢 Connected' : '🔴 Disconnected'}\n                </p>\n              </div>\n            </div>\n            \n            <div className=\"flex items-center space-x-2\">\n              <select\n                value={selectedLanguage}\n                onChange={(e) => setSelectedLanguage(e.target.value)}\n                className=\"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n              >\n                {languages.map((lang) => (\n                  <option key={lang.code} value={lang.code}>\n                    {lang.flag} {lang.name}\n                  </option>\n                ))}\n              </select>\n              \n              <button\n                onClick={toggleFullscreen}\n                className=\"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors\"\n              >\n                {isFullscreen ? <Minimize2 className=\"w-5 h-5\" /> : <Maximize2 className=\"w-5 h-5\" />}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Video Call Interface */}\n      <div className=\"max-w-7xl mx-auto px-4 py-6\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[calc(100vh-200px)]\">\n          \n          {/* Farmer's Video Panel */}\n          <div className=\"relative bg-gray-900 rounded-xl overflow-hidden shadow-2xl\">\n            <div className=\"absolute inset-0 bg-gradient-to-br from-green-600/20 to-blue-600/20 z-10\" />\n            \n            {/* Video Placeholder */}\n            <div className=\"absolute inset-0 flex items-center justify-center\">\n              {isVideoOn ? (\n                <div className=\"text-center\">\n                  <div className=\"w-32 h-32 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4\">\n                    <User className=\"w-16 h-16 text-white\" />\n                  </div>\n                  <p className=\"text-white text-lg font-medium\">{user?.name || 'किसान'}</p>\n                  <p className=\"text-gray-300 text-sm\">आपका वीडियो</p>\n                </div>\n              ) : (\n                <div className=\"text-center\">\n                  <div className=\"w-32 h-32 bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4\">\n                    <VideoOff className=\"w-16 h-16 text-gray-400\" />\n                  </div>\n                  <p className=\"text-gray-400 text-lg\">वीडियो बंद है</p>\n                </div>\n              )}\n            </div>\n            \n            {/* Speaking Indicator */}\n            {currentSpeaker === 'farmer' && (\n              <div className=\"absolute top-4 left-4 bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium animate-pulse\">\n                🎤 बोल रहे हैं\n              </div>\n            )}\n            \n            {/* Status Indicators */}\n            <div className=\"absolute top-4 right-4 flex space-x-2\">\n              {!isAudioOn && (\n                <div className=\"bg-red-500 text-white p-2 rounded-full\">\n                  <MicOff className=\"w-4 h-4\" />\n                </div>\n              )}\n              {!isVideoOn && (\n                <div className=\"bg-red-500 text-white p-2 rounded-full\">\n                  <VideoOff className=\"w-4 h-4\" />\n                </div>\n              )}\n            </div>\n            \n            {/* Name Tag */}\n            <div className=\"absolute bottom-4 left-4 bg-black/50 text-white px-3 py-1 rounded-lg\">\n              <span className=\"text-sm font-medium\">{user?.name || 'किसान'}</span>\n            </div>\n          </div>\n\n          {/* KrishiMitra's Video Panel */}\n          <div className=\"relative bg-gray-900 rounded-xl overflow-hidden shadow-2xl\">\n            <div className=\"absolute inset-0 bg-gradient-to-br from-blue-600/20 to-purple-600/20 z-10\" />\n            \n            {/* Video Placeholder */}\n            <div className=\"absolute inset-0 flex items-center justify-center\">\n              <div className=\"text-center\">\n                <div className={`w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-4 transition-all duration-300 ${\n                  isKrishiMitraSpeaking \n                    ? 'bg-gradient-to-r from-blue-500 to-purple-500 animate-pulse' \n                    : 'bg-gradient-to-r from-blue-600 to-purple-600'\n                }`}>\n                  <Bot className=\"w-16 h-16 text-white\" />\n                </div>\n                <p className=\"text-white text-lg font-medium\">KrishiMitra AI</p>\n                <p className=\"text-gray-300 text-sm\">आपका AI सहायक</p>\n              </div>\n            </div>\n            \n            {/* Speaking Indicator */}\n            {currentSpeaker === 'krishimitra' && (\n              <div className=\"absolute top-4 left-4 bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-medium animate-pulse\">\n                🤖 बोल रहा है\n              </div>\n            )}\n            \n            {/* AI Status */}\n            <div className=\"absolute top-4 right-4 bg-green-500 text-white px-3 py-1 rounded-full text-sm\">\n              AI सक्रिय\n            </div>\n            \n            {/* Name Tag */}\n            <div className=\"absolute bottom-4 left-4 bg-black/50 text-white px-3 py-1 rounded-lg\">\n              <span className=\"text-sm font-medium\">KrishiMitra AI</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Control Panel */}\n        <div className=\"mt-6 bg-white rounded-xl shadow-lg p-6\">\n          <div className=\"flex items-center justify-between\">\n            \n            {/* Left Controls */}\n            <div className=\"flex items-center space-x-4\">\n              <button\n                onClick={toggleAudio}\n                className={`p-4 rounded-full transition-all duration-200 ${\n                  isMuted \n                    ? 'bg-red-500 text-white hover:bg-red-600' \n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }`}\n              >\n                {isMuted ? <MicOff className=\"w-6 h-6\" /> : <Mic className=\"w-6 h-6\" />}\n              </button>\n              \n              <button\n                onClick={toggleVideo}\n                className={`p-4 rounded-full transition-all duration-200 ${\n                  !isVideoOn \n                    ? 'bg-red-500 text-white hover:bg-red-600' \n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }`}\n              >\n                {isVideoOn ? <Video className=\"w-6 h-6\" /> : <VideoOff className=\"w-6 h-6\" />}\n              </button>\n              \n              <button\n                onClick={handleVoiceToggle}\n                className={`p-4 rounded-full transition-all duration-200 ${\n                  isRecording \n                    ? 'bg-red-500 text-white hover:bg-red-600 animate-pulse' \n                    : 'bg-green-500 text-white hover:bg-green-600'\n                }`}\n              >\n                {isRecording ? <MicOff className=\"w-6 h-6\" /> : <Mic className=\"w-6 h-6\" />}\n              </button>\n            </div>\n\n            {/* Center - Call Controls */}\n            <div className=\"flex items-center space-x-4\">\n              <button className=\"p-4 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors\">\n                <PhoneOff className=\"w-6 h-6\" />\n              </button>\n              \n              <button className=\"p-4 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors\">\n                <Phone className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            {/* Right Controls */}\n            <div className=\"flex items-center space-x-4\">\n              <button className=\"p-4 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors\">\n                <Settings className=\"w-6 h-6\" />\n              </button>\n              \n              <button className=\"p-4 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors\">\n                <MoreVertical className=\"w-6 h-6\" />\n              </button>\n            </div>\n          </div>\n\n          {/* Quick Actions */}\n          <div className=\"mt-6 pt-6 border-t border-gray-200\">\n            <h3 className=\"text-sm font-medium text-gray-700 mb-3\">त्वरित कार्य</h3>\n            <div className=\"flex flex-wrap gap-3\">\n              {quickActions.map((action, index) => (\n                <button\n                  key={index}\n                  onClick={() => handleQuickAction(action.text)}\n                  className={`${action.color} text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center space-x-2`}\n                >\n                  {action.icon}\n                  <span>{action.text}</span>\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Text Input (Hidden by default, can be toggled) */}\n          <div className=\"mt-4 pt-4 border-t border-gray-200\">\n            <div className=\"flex space-x-3\">\n              <input\n                type=\"text\"\n                value={inputText}\n                onChange={(e) => setInputText(e.target.value)}\n                onKeyPress={handleKeyPress}\n                placeholder=\"बोलकर पूछें या टाइप करें - फसल, ऋण, मंडी भाव, या सरकारी योजनाएं...\"\n                className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              />\n              <button\n                onClick={handleSendMessage}\n                disabled={!inputText.trim()}\n                className=\"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                भेजें\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Footer */}\n      <div className=\"bg-white border-t mt-6\">\n        <div className=\"max-w-7xl mx-auto px-4 py-3\">\n          <div className=\"flex items-center justify-between text-sm text-gray-500\">\n            <span>Powered by KrishiMitra AI</span>\n            <span>OpenAI Voice API • Real-time AI Assistant</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAE1D,SACEC,GAAG,EACHC,MAAM,EACNC,KAAK,EACLC,QAAQ,EACRC,KAAK,EACLC,QAAQ,EACRC,QAAQ,EAERC,IAAI,EACJC,GAAG,EACHC,OAAO,EAEPC,MAAM,EAENC,YAAY,EACZC,SAAS,EACTC,SAAS,QACJ,cAAc;AACrB,SAASC,OAAO,QAAQ,kBAAkB;AAC1C,SAASC,OAAO,QAAQ,yBAAyB;AACjD,SAASC,KAAK,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAgBxC,MAAMC,IAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM;IAAEC;EAAK,CAAC,GAAGP,OAAO,CAAC,CAAC;EAC1B,MAAM;IAAEQ,QAAQ;IAAEC,WAAW;IAAEC;EAAY,CAAC,GAAGT,OAAO,CAAC,CAAC;EACxD,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAAC8B,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG/B,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM,CAACgC,WAAW,EAAEC,cAAc,CAAC,GAAGjC,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACkC,aAAa,EAAEC,gBAAgB,CAAC,GAAGnC,QAAQ,CAAuB,IAAI,CAAC;EAC9E,MAAM,CAACoC,WAAW,EAAEC,cAAc,CAAC,GAAGrC,QAAQ,CAAS,EAAE,CAAC;EAC1D,MAAM,CAACsC,WAAW,EAAEC,cAAc,CAAC,GAAGvC,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACwC,WAAW,EAAEC,cAAc,CAAC,GAAGzC,QAAQ,CAAC,0BAA0B,CAAC;;EAE1E;EACA,MAAM,CAAC0C,SAAS,EAAEC,YAAY,CAAC,GAAG3C,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAAC4C,SAAS,EAAEC,YAAY,CAAC,GAAG7C,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAAC8C,OAAO,EAAEC,UAAU,CAAC,GAAG/C,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACgD,YAAY,EAAEC,eAAe,CAAC,GAAGjD,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACkD,YAAY,EAAEC,eAAe,CAAC,GAAGnD,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACoD,qBAAqB,EAAEC,wBAAwB,CAAC,GAAGrD,QAAQ,CAAC,KAAK,CAAC;EACzE,MAAM,CAACsD,cAAc,EAAEC,iBAAiB,CAAC,GAAGvD,QAAQ,CAAkC,IAAI,CAAC;EAE3F,MAAMwD,cAAc,GAAGtD,MAAM,CAAiB,IAAI,CAAC;EACnD,MAAMuD,QAAQ,GAAGvD,MAAM,CAAmB,IAAI,CAAC;EAC/C,MAAMwD,mBAAmB,GAAGxD,MAAM,CAAmB,IAAI,CAAC;EAE1D,MAAMyD,SAAS,GAAG,CAChB;IAAEC,IAAI,EAAE,IAAI;IAAEC,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE;EAAO,CAAC,EAC3C;IAAEF,IAAI,EAAE,IAAI;IAAEC,IAAI,EAAE,SAAS;IAAEC,IAAI,EAAE;EAAO,CAAC,EAC7C;IAAEF,IAAI,EAAE,IAAI;IAAEC,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE;EAAO,CAAC,EAC3C;IAAEF,IAAI,EAAE,IAAI;IAAEC,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE;EAAO,CAAC,EAC3C;IAAEF,IAAI,EAAE,IAAI;IAAEC,IAAI,EAAE,QAAQ;IAAEC,IAAI,EAAE;EAAO,CAAC,EAC5C;IAAEF,IAAI,EAAE,IAAI;IAAEC,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE;EAAO,CAAC,EAC3C;IAAEF,IAAI,EAAE,IAAI;IAAEC,IAAI,EAAE,SAAS;IAAEC,IAAI,EAAE;EAAO,CAAC,EAC7C;IAAEF,IAAI,EAAE,IAAI;IAAEC,IAAI,EAAE,QAAQ;IAAEC,IAAI,EAAE;EAAO,CAAC,EAC5C;IAAEF,IAAI,EAAE,IAAI;IAAEC,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE;EAAO,CAAC,EAC3C;IAAEF,IAAI,EAAE,IAAI;IAAEC,IAAI,EAAE,QAAQ;IAAEC,IAAI,EAAE;EAAO,CAAC,EAC5C;IAAEF,IAAI,EAAE,IAAI;IAAEC,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE;EAAO,CAAC,CAC5C;EAED7D,SAAS,CAAC,MAAM;IACd;IACA,IAAIwB,QAAQ,CAACsC,MAAM,KAAK,CAAC,EAAE;MACzBC,UAAU,CAAC;QACTC,EAAE,EAAE,SAAS;QACbC,IAAI,EAAE,UAAU,CAAA1C,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEqC,IAAI,KAAI,OAAO,6HAA6H;QAClKM,MAAM,EAAE,IAAI;QACZC,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC;QACrBC,QAAQ,EAAE;UACRC,WAAW,EAAE,CAAC,UAAU,CAAA/C,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEqC,IAAI,KAAI,OAAO,8CAA8C,EAAE,gFAAgF,CAAC;UAC9KW,MAAM,EAAE,SAAS;UACjBC,WAAW,EAAE,CAAC,iBAAiB,EAAE,mBAAmB,EAAE,gBAAgB,EAAE,qBAAqB;QAC/F;MACF,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAAChD,QAAQ,CAACsC,MAAM,EAAEvC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEqC,IAAI,CAAC,CAAC;EAEjC5D,SAAS,CAAC,MAAM;IAAA,IAAAyE,qBAAA;IACd,CAAAA,qBAAA,GAAAlB,cAAc,CAACmB,OAAO,cAAAD,qBAAA,uBAAtBA,qBAAA,CAAwBE,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAChE,CAAC,EAAE,CAACpD,QAAQ,CAAC,CAAC;EAEd,MAAMuC,UAAU,GAAIc,OAAgB,IAAK;IACvC;IACAC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEF,OAAO,CAAC;EACzC,CAAC;EAED,MAAMG,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI,CAACrD,SAAS,CAACsD,IAAI,CAAC,CAAC,EAAE;IAEvB3B,iBAAiB,CAAC,QAAQ,CAAC;IAC3BF,wBAAwB,CAAC,KAAK,CAAC;IAE/B,MAAM3B,WAAW,CAACE,SAAS,EAAEE,gBAAgB,CAAC;IAC9CD,YAAY,CAAC,EAAE,CAAC;;IAEhB;IACAsD,UAAU,CAAC,MAAM;MACf5B,iBAAiB,CAAC,aAAa,CAAC;MAChCF,wBAAwB,CAAC,IAAI,CAAC;;MAE9B;MACA8B,UAAU,CAAC,MAAM;QACf9B,wBAAwB,CAAC,KAAK,CAAC;QAC/BE,iBAAiB,CAAC,IAAI,CAAC;MACzB,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,EAAE,IAAI,CAAC;EACV,CAAC;EAED,MAAM6B,cAAc,GAAIC,CAAsB,IAAK;IACjD,IAAIA,CAAC,CAACC,GAAG,KAAK,OAAO,IAAI,CAACD,CAAC,CAACE,QAAQ,EAAE;MACpCF,CAAC,CAACG,cAAc,CAAC,CAAC;MAClBP,iBAAiB,CAAC,CAAC;IACrB;EACF,CAAC;EAED,MAAMQ,mBAAmB,GAAG,MAAAA,CAAA,KAAY;IACtC,IAAI;MACF,MAAMC,MAAM,GAAG,MAAMC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;QAAEC,KAAK,EAAE;MAAK,CAAC,CAAC;MACzE,MAAMC,QAAQ,GAAG,IAAIC,aAAa,CAACN,MAAM,CAAC;MAC1C,MAAMO,MAAc,GAAG,EAAE;MAEzBF,QAAQ,CAACG,eAAe,GAAIC,KAAK,IAAK;QACpC,IAAIA,KAAK,CAACC,IAAI,CAACC,IAAI,GAAG,CAAC,EAAE;UACvBJ,MAAM,CAACK,IAAI,CAACH,KAAK,CAACC,IAAI,CAAC;QACzB;MACF,CAAC;MAEDL,QAAQ,CAACQ,MAAM,GAAG,YAAY;QAC5B,MAAMC,SAAS,GAAG,IAAIC,IAAI,CAACR,MAAM,EAAE;UAAES,IAAI,EAAE;QAAY,CAAC,CAAC;QACzD,MAAMC,iBAAiB,CAACH,SAAS,CAAC;QAClCd,MAAM,CAACkB,SAAS,CAAC,CAAC,CAACC,OAAO,CAACC,KAAK,IAAIA,KAAK,CAACC,IAAI,CAAC,CAAC,CAAC;MACnD,CAAC;MAED5E,gBAAgB,CAAC4D,QAAQ,CAAC;MAC1B1D,cAAc,CAAC4D,MAAM,CAAC;MACtBF,QAAQ,CAACiB,KAAK,CAAC,CAAC;MAChB/E,cAAc,CAAC,IAAI,CAAC;MACpBM,cAAc,CAAC,IAAI,CAAC;MACpBE,cAAc,CAAC,gBAAgB,CAAC;MAChCc,iBAAiB,CAAC,QAAQ,CAAC;MAC3BpC,KAAK,CAAC8F,OAAO,CAAC,qCAAqC,CAAC;;MAEpD;MACA9B,UAAU,CAAC,MAAM;QACf,IAAIY,QAAQ,CAACmB,KAAK,KAAK,WAAW,EAAE;UAClCC,kBAAkB,CAAC,CAAC;QACtB;MACF,CAAC,EAAE,KAAK,CAAC;IAEX,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdrC,OAAO,CAACqC,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACvDjG,KAAK,CAACiG,KAAK,CAAC,0BAA0B,CAAC;IACzC;EACF,CAAC;EAED,MAAMD,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,IAAIjF,aAAa,IAAIA,aAAa,CAACgF,KAAK,KAAK,WAAW,EAAE;MACxDhF,aAAa,CAAC6E,IAAI,CAAC,CAAC;MACpB9E,cAAc,CAAC,KAAK,CAAC;MACrBM,cAAc,CAAC,KAAK,CAAC;MACrBE,cAAc,CAAC,0BAA0B,CAAC;MAC1Cc,iBAAiB,CAAC,IAAI,CAAC;MACvBpC,KAAK,CAAC8F,OAAO,CAAC,uBAAuB,CAAC;IACxC;EACF,CAAC;EAED,MAAMN,iBAAiB,GAAG,MAAOH,SAAe,IAAK;IACnD,IAAI;MACFrF,KAAK,CAAC8F,OAAO,CAAC,kDAAkD,CAAC;;MAEjE;MACA,MAAMI,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,YAAY,EAAEf,SAAS,EAAE,iBAAiB,CAAC;MAC3Da,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEzF,gBAAgB,CAAC;;MAE7C;MACA,MAAM0F,QAAQ,GAAG,MAAMC,KAAK,CAAC,8BAA8B,EAAE;QAC3DC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEN;MACR,CAAC,CAAC;MAEF,IAAI,CAACG,QAAQ,CAACI,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;MAC5C;MAEA,MAAMC,MAAM,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;MAEpC,IAAID,MAAM,CAAC5D,IAAI,EAAE;QACf;QACArC,YAAY,CAACiG,MAAM,CAAC5D,IAAI,CAAC;QACzB,MAAMxC,WAAW,CAACoG,MAAM,CAAC5D,IAAI,EAAE4D,MAAM,CAACE,QAAQ,IAAIlG,gBAAgB,CAAC;QAEnEX,KAAK,CAAC8F,OAAO,CAAC,oDAAoD,CAAC;MACrE,CAAC,MAAM;QACL,MAAM,IAAIY,KAAK,CAAC,kBAAkB,CAAC;MACrC;IAEF,CAAC,CAAC,OAAOT,KAAK,EAAE;MACdrC,OAAO,CAACqC,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;;MAErD;MACAjG,KAAK,CAAC8F,OAAO,CAAC,yDAAyD,CAAC;MAExE,MAAMgB,cAAc,GAAG;QACrB,IAAI,EAAE,6CAA6C;QACnD,IAAI,EAAE,2CAA2C;QACjD,IAAI,EAAE,oCAAoC;QAC1C,IAAI,EAAE,wBAAwB;QAC9B,IAAI,EAAE,0CAA0C;QAChD,IAAI,EAAE,oCAAoC;QAC1C,IAAI,EAAE,uCAAuC;QAC7C,IAAI,EAAE,iCAAiC;QACvC,IAAI,EAAE,qCAAqC;QAC3C,IAAI,EAAE;MACR,CAAC;MAED,MAAMC,QAAQ,GAAGD,cAAc,CAACnG,gBAAgB,CAAgC,IAAImG,cAAc,CAAC,IAAI,CAAC;MACxGpG,YAAY,CAACqG,QAAQ,CAAC;MACtB,MAAMxG,WAAW,CAACwG,QAAQ,EAAEpG,gBAAgB,CAAC;MAE7CX,KAAK,CAAC8F,OAAO,CAAC,mCAAmC,CAAC;IACpD;EACF,CAAC;EAED,MAAMkB,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,IAAInG,WAAW,EAAE;MACfmF,kBAAkB,CAAC,CAAC;IACtB,CAAC,MAAM;MACL1B,mBAAmB,CAAC,CAAC;IACvB;EACF,CAAC;EAED,MAAM2C,iBAAiB,GAAG,MAAOC,MAAc,IAAK;IAClD,MAAMvD,OAAO,GAAG,iBAAiBuD,MAAM,CAACC,WAAW,CAAC,CAAC,EAAE;IACvDzG,YAAY,CAACiD,OAAO,CAAC;IACrB,MAAMpD,WAAW,CAACoD,OAAO,EAAEhD,gBAAgB,CAAC;EAC9C,CAAC;EAED,MAAMyG,WAAW,GAAGA,CAAA,KAAM;IACxB5F,YAAY,CAAC,CAACD,SAAS,CAAC;IACxBvB,KAAK,CAAC8F,OAAO,CAACvE,SAAS,GAAG,eAAe,GAAG,gBAAgB,CAAC;EAC/D,CAAC;EAED,MAAM8F,WAAW,GAAGA,CAAA,KAAM;IACxB3F,YAAY,CAAC,CAACD,SAAS,CAAC;IACxBG,UAAU,CAAC,CAACD,OAAO,CAAC;IACpB3B,KAAK,CAAC8F,OAAO,CAACnE,OAAO,GAAG,eAAe,GAAG,cAAc,CAAC;EAC3D,CAAC;EAED,MAAM2F,gBAAgB,GAAGA,CAAA,KAAM;IAC7BxF,eAAe,CAAC,CAACD,YAAY,CAAC;IAC9B7B,KAAK,CAAC8F,OAAO,CAACjE,YAAY,GAAG,sBAAsB,GAAG,uBAAuB,CAAC;EAChF,CAAC;EAED,MAAM0F,YAAY,GAAG,CACnB;IAAEC,IAAI,eAAEtH,OAAA,CAACX,IAAI;MAACkI,SAAS,EAAC;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;IAAE9E,IAAI,EAAE,UAAU;IAAE+E,KAAK,EAAE;EAAkC,CAAC,EAClG;IAAEN,IAAI,eAAEtH,OAAA,CAACV,GAAG;MAACiI,SAAS,EAAC;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;IAAE9E,IAAI,EAAE,YAAY;IAAE+E,KAAK,EAAE;EAAgC,CAAC,EACjG;IAAEN,IAAI,eAAEtH,OAAA,CAACT,OAAO;MAACgI,SAAS,EAAC;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;IAAE9E,IAAI,EAAE,UAAU;IAAE+E,KAAK,EAAE;EAAoC,CAAC,EACvG;IAAEN,IAAI,eAAEtH,OAAA,CAACR,MAAM;MAAC+H,SAAS,EAAC;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;IAAE9E,IAAI,EAAE,cAAc;IAAE+E,KAAK,EAAE;EAAoC,CAAC,CAC3G;EAED,oBACE5H,OAAA;IAAKuH,SAAS,EAAE,2DAA2D5F,YAAY,GAAG,oBAAoB,GAAG,EAAE,EAAG;IAAAkG,QAAA,gBAEpH7H,OAAA;MAAKuH,SAAS,EAAC,6BAA6B;MAAAM,QAAA,eAC1C7H,OAAA;QAAKuH,SAAS,EAAC,6BAA6B;QAAAM,QAAA,eAC1C7H,OAAA;UAAKuH,SAAS,EAAC,mCAAmC;UAAAM,QAAA,gBAChD7H,OAAA;YAAKuH,SAAS,EAAC,6BAA6B;YAAAM,QAAA,gBAC1C7H,OAAA;cAAKuH,SAAS,EAAC,qGAAqG;cAAAM,QAAA,eAClH7H,OAAA,CAACV,GAAG;gBAACiI,SAAS,EAAC;cAAoB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnC,CAAC,eACN3H,OAAA;cAAA6H,QAAA,gBACE7H,OAAA;gBAAIuH,SAAS,EAAC,qCAAqC;gBAAAM,QAAA,EAAC;cAAsB;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC/E3H,OAAA;gBAAGuH,SAAS,EAAC,uBAAuB;gBAAAM,QAAA,EACjCvH,WAAW,GAAG,cAAc,GAAG;cAAiB;gBAAAkH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChD,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAEN3H,OAAA;YAAKuH,SAAS,EAAC,6BAA6B;YAAAM,QAAA,gBAC1C7H,OAAA;cACE8H,KAAK,EAAErH,gBAAiB;cACxBsH,QAAQ,EAAG/D,CAAC,IAAKtD,mBAAmB,CAACsD,CAAC,CAACgE,MAAM,CAACF,KAAK,CAAE;cACrDP,SAAS,EAAC,0GAA0G;cAAAM,QAAA,EAEnHvF,SAAS,CAAC2F,GAAG,CAAEC,IAAI,iBAClBlI,OAAA;gBAAwB8H,KAAK,EAAEI,IAAI,CAAC3F,IAAK;gBAAAsF,QAAA,GACtCK,IAAI,CAACzF,IAAI,EAAC,GAAC,EAACyF,IAAI,CAAC1F,IAAI;cAAA,GADX0F,IAAI,CAAC3F,IAAI;gBAAAiF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAEd,CACT;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC,eAET3H,OAAA;cACEmI,OAAO,EAAEf,gBAAiB;cAC1BG,SAAS,EAAC,sFAAsF;cAAAM,QAAA,EAE/FlG,YAAY,gBAAG3B,OAAA,CAACN,SAAS;gBAAC6H,SAAS,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,gBAAG3H,OAAA,CAACL,SAAS;gBAAC4H,SAAS,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/E,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGN3H,OAAA;MAAKuH,SAAS,EAAC,6BAA6B;MAAAM,QAAA,gBAC1C7H,OAAA;QAAKuH,SAAS,EAAC,6DAA6D;QAAAM,QAAA,gBAG1E7H,OAAA;UAAKuH,SAAS,EAAC,4DAA4D;UAAAM,QAAA,gBACzE7H,OAAA;YAAKuH,SAAS,EAAC;UAA0E;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAG5F3H,OAAA;YAAKuH,SAAS,EAAC,mDAAmD;YAAAM,QAAA,EAC/DxG,SAAS,gBACRrB,OAAA;cAAKuH,SAAS,EAAC,aAAa;cAAAM,QAAA,gBAC1B7H,OAAA;gBAAKuH,SAAS,EAAC,kHAAkH;gBAAAM,QAAA,eAC/H7H,OAAA,CAACX,IAAI;kBAACkI,SAAS,EAAC;gBAAsB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtC,CAAC,eACN3H,OAAA;gBAAGuH,SAAS,EAAC,gCAAgC;gBAAAM,QAAA,EAAE,CAAA1H,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEqC,IAAI,KAAI;cAAO;gBAAAgF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACzE3H,OAAA;gBAAGuH,SAAS,EAAC,uBAAuB;gBAAAM,QAAA,EAAC;cAAW;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjD,CAAC,gBAEN3H,OAAA;cAAKuH,SAAS,EAAC,aAAa;cAAAM,QAAA,gBAC1B7H,OAAA;gBAAKuH,SAAS,EAAC,kFAAkF;gBAAAM,QAAA,eAC/F7H,OAAA,CAACb,QAAQ;kBAACoI,SAAS,EAAC;gBAAyB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7C,CAAC,eACN3H,OAAA;gBAAGuH,SAAS,EAAC,uBAAuB;gBAAAM,QAAA,EAAC;cAAa;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnD;UACN;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,EAGL1F,cAAc,KAAK,QAAQ,iBAC1BjC,OAAA;YAAKuH,SAAS,EAAC,wGAAwG;YAAAM,QAAA,EAAC;UAExH;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CACN,eAGD3H,OAAA;YAAKuH,SAAS,EAAC,uCAAuC;YAAAM,QAAA,GACnD,CAACtG,SAAS,iBACTvB,OAAA;cAAKuH,SAAS,EAAC,wCAAwC;cAAAM,QAAA,eACrD7H,OAAA,CAACjB,MAAM;gBAACwI,SAAS,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3B,CACN,EACA,CAACtG,SAAS,iBACTrB,OAAA;cAAKuH,SAAS,EAAC,wCAAwC;cAAAM,QAAA,eACrD7H,OAAA,CAACb,QAAQ;gBAACoI,SAAS,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAGN3H,OAAA;YAAKuH,SAAS,EAAC,sEAAsE;YAAAM,QAAA,eACnF7H,OAAA;cAAMuH,SAAS,EAAC,qBAAqB;cAAAM,QAAA,EAAE,CAAA1H,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEqC,IAAI,KAAI;YAAO;cAAAgF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGN3H,OAAA;UAAKuH,SAAS,EAAC,4DAA4D;UAAAM,QAAA,gBACzE7H,OAAA;YAAKuH,SAAS,EAAC;UAA2E;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAG7F3H,OAAA;YAAKuH,SAAS,EAAC,mDAAmD;YAAAM,QAAA,eAChE7H,OAAA;cAAKuH,SAAS,EAAC,aAAa;cAAAM,QAAA,gBAC1B7H,OAAA;gBAAKuH,SAAS,EAAE,oGACdxF,qBAAqB,GACjB,4DAA4D,GAC5D,8CAA8C,EACjD;gBAAA8F,QAAA,eACD7H,OAAA,CAACV,GAAG;kBAACiI,SAAS,EAAC;gBAAsB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrC,CAAC,eACN3H,OAAA;gBAAGuH,SAAS,EAAC,gCAAgC;gBAAAM,QAAA,EAAC;cAAc;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eAChE3H,OAAA;gBAAGuH,SAAS,EAAC,uBAAuB;gBAAAM,QAAA,EAAC;cAAa;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,EAGL1F,cAAc,KAAK,aAAa,iBAC/BjC,OAAA;YAAKuH,SAAS,EAAC,uGAAuG;YAAAM,QAAA,EAAC;UAEvH;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CACN,eAGD3H,OAAA;YAAKuH,SAAS,EAAC,+EAA+E;YAAAM,QAAA,EAAC;UAE/F;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAGN3H,OAAA;YAAKuH,SAAS,EAAC,sEAAsE;YAAAM,QAAA,eACnF7H,OAAA;cAAMuH,SAAS,EAAC,qBAAqB;cAAAM,QAAA,EAAC;YAAc;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGN3H,OAAA;QAAKuH,SAAS,EAAC,wCAAwC;QAAAM,QAAA,gBACrD7H,OAAA;UAAKuH,SAAS,EAAC,mCAAmC;UAAAM,QAAA,gBAGhD7H,OAAA;YAAKuH,SAAS,EAAC,6BAA6B;YAAAM,QAAA,gBAC1C7H,OAAA;cACEmI,OAAO,EAAEhB,WAAY;cACrBI,SAAS,EAAE,gDACT9F,OAAO,GACH,wCAAwC,GACxC,6CAA6C,EAChD;cAAAoG,QAAA,EAEFpG,OAAO,gBAAGzB,OAAA,CAACjB,MAAM;gBAACwI,SAAS,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,gBAAG3H,OAAA,CAAClB,GAAG;gBAACyI,SAAS,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjE,CAAC,eAET3H,OAAA;cACEmI,OAAO,EAAEjB,WAAY;cACrBK,SAAS,EAAE,gDACT,CAAClG,SAAS,GACN,wCAAwC,GACxC,6CAA6C,EAChD;cAAAwG,QAAA,EAEFxG,SAAS,gBAAGrB,OAAA,CAACd,KAAK;gBAACqI,SAAS,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,gBAAG3H,OAAA,CAACb,QAAQ;gBAACoI,SAAS,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvE,CAAC,eAET3H,OAAA;cACEmI,OAAO,EAAErB,iBAAkB;cAC3BS,SAAS,EAAE,gDACT5G,WAAW,GACP,sDAAsD,GACtD,4CAA4C,EAC/C;cAAAkH,QAAA,EAEFlH,WAAW,gBAAGX,OAAA,CAACjB,MAAM;gBAACwI,SAAS,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,gBAAG3H,OAAA,CAAClB,GAAG;gBAACyI,SAAS,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eAGN3H,OAAA;YAAKuH,SAAS,EAAC,6BAA6B;YAAAM,QAAA,gBAC1C7H,OAAA;cAAQuH,SAAS,EAAC,2EAA2E;cAAAM,QAAA,eAC3F7H,OAAA,CAACf,QAAQ;gBAACsI,SAAS,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1B,CAAC,eAET3H,OAAA;cAAQuH,SAAS,EAAC,+EAA+E;cAAAM,QAAA,eAC/F7H,OAAA,CAAChB,KAAK;gBAACuI,SAAS,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eAGN3H,OAAA;YAAKuH,SAAS,EAAC,6BAA6B;YAAAM,QAAA,gBAC1C7H,OAAA;cAAQuH,SAAS,EAAC,gFAAgF;cAAAM,QAAA,eAChG7H,OAAA,CAACZ,QAAQ;gBAACmI,SAAS,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1B,CAAC,eAET3H,OAAA;cAAQuH,SAAS,EAAC,gFAAgF;cAAAM,QAAA,eAChG7H,OAAA,CAACP,YAAY;gBAAC8H,SAAS,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGN3H,OAAA;UAAKuH,SAAS,EAAC,oCAAoC;UAAAM,QAAA,gBACjD7H,OAAA;YAAIuH,SAAS,EAAC,wCAAwC;YAAAM,QAAA,EAAC;UAAY;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACxE3H,OAAA;YAAKuH,SAAS,EAAC,sBAAsB;YAAAM,QAAA,EAClCR,YAAY,CAACY,GAAG,CAAC,CAACjB,MAAM,EAAEoB,KAAK,kBAC9BpI,OAAA;cAEEmI,OAAO,EAAEA,CAAA,KAAMpB,iBAAiB,CAACC,MAAM,CAACnE,IAAI,CAAE;cAC9C0E,SAAS,EAAE,GAAGP,MAAM,CAACY,KAAK,oGAAqG;cAAAC,QAAA,GAE9Hb,MAAM,CAACM,IAAI,eACZtH,OAAA;gBAAA6H,QAAA,EAAOb,MAAM,CAACnE;cAAI;gBAAA2E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA,GALrBS,KAAK;cAAAZ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAMJ,CACT;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGN3H,OAAA;UAAKuH,SAAS,EAAC,oCAAoC;UAAAM,QAAA,eACjD7H,OAAA;YAAKuH,SAAS,EAAC,gBAAgB;YAAAM,QAAA,gBAC7B7H,OAAA;cACEqF,IAAI,EAAC,MAAM;cACXyC,KAAK,EAAEvH,SAAU;cACjBwH,QAAQ,EAAG/D,CAAC,IAAKxD,YAAY,CAACwD,CAAC,CAACgE,MAAM,CAACF,KAAK,CAAE;cAC9CO,UAAU,EAAEtE,cAAe;cAC3BuE,WAAW,EAAC,+SAAoE;cAChFf,SAAS,EAAC;YAAkI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7I,CAAC,eACF3H,OAAA;cACEmI,OAAO,EAAEvE,iBAAkB;cAC3B2E,QAAQ,EAAE,CAAChI,SAAS,CAACsD,IAAI,CAAC,CAAE;cAC5B0D,SAAS,EAAC,mIAAmI;cAAAM,QAAA,EAC9I;YAED;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGN3H,OAAA;MAAKuH,SAAS,EAAC,wBAAwB;MAAAM,QAAA,eACrC7H,OAAA;QAAKuH,SAAS,EAAC,6BAA6B;QAAAM,QAAA,eAC1C7H,OAAA;UAAKuH,SAAS,EAAC,yDAAyD;UAAAM,QAAA,gBACtE7H,OAAA;YAAA6H,QAAA,EAAM;UAAyB;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACtC3H,OAAA;YAAA6H,QAAA,EAAM;UAAyC;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACzH,EAAA,CAxeID,IAAc;EAAA,QACDL,OAAO,EACuBC,OAAO;AAAA;AAAA2I,EAAA,GAFlDvI,IAAc;AA0epB,eAAeA,IAAI;AAAC,IAAAuI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}